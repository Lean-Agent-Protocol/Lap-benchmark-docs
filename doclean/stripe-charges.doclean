@doclean v0.2
# Machine-readable API spec. Each @endpoint block is one API call.
@api Stripe Charges API
@base https://api.stripe.com
@version 2024-12-18
@auth Bearer bearer
@endpoints 5
@toc Create a charge, List all charges, Retrieve a charge, Update a charge, Capture a charge

@endpoint POST /v1/charges
@desc Create a charge
@required {amount: int # Amount intended to be collected by this payment, in cents., currency: str # Three-letter ISO 4217 currency code, in lowercase.}
@optional {source: str # A payment source to be charged. This can be the ID of a card, a bank account, a source, a token, or a connected account., customer: str # The ID of an existing customer that will be charged in this request., description: str # An arbitrary string attached to the object. Often useful for displaying to users., metadata: map # Set of key-value pairs for storing additional information about the charge., receipt_email: str # The email address to which the receipt for this charge will be sent., shipping: map # Shipping information for the charge., statement_descriptor: str # For card charges, use statement_descriptor_suffix. Otherwise, you can use this value as the complete description., capture: bool # Whether to immediately capture the charge. Defaults to true., transfer_data: map # An optional dictionary including the account to automatically transfer to as part of a destination charge., application_fee_amount: int # A fee in cents that will be applied to the charge and transferred to the application owner's Stripe account., on_behalf_of: str # The Stripe account ID for which these funds are intended.}
@returns(200) {id: str, object: str, amount: int, amount_captured: int, amount_refunded: int, currency: str, customer: str?, description: str?, status: str, paid: bool, captured: bool, livemode: bool, metadata: map, payment_method: str, receipt_email: str?, receipt_url: str?, failure_code: str?, failure_message: str?, created: int(unix-timestamp), billing_details: map{name: str?, email: str?, phone: str?, address: map}, outcome: map{network_status: str, risk_level: str, risk_score: int, seller_message: str, type: str}} # Returns the charge object if the charge succeeded.
@errors {400: Invalid request parameters., 401: Authentication failed. Invalid API key., 402: Card was declined., 429: Too many requests.}

@endpoint GET /v1/charges
@desc List all charges
@optional {customer: str # Only return charges for the customer specified by this customer ID., created: map # A filter on the list based on the created field., limit: int=10 # A limit on the number of objects to be returned. Limit can range between 1 and 100., starting_after: str # A cursor for pagination. starting_after is the ID of the last object., ending_before: str # A cursor for pagination. ending_before is the ID of the first object.}
@returns(200) Returns a list of charge objects.
@errors {401: Authentication failed.}

@endpoint GET /v1/charges/{charge}
@desc Retrieve a charge
@required {charge: str # The identifier of the charge to be retrieved.}
@returns(200) Returns the charge object.
@errors {404: Charge not found.}

@endpoint POST /v1/charges/{charge}
@desc Update a charge
@required {charge: str # The identifier of the charge to be updated.}
@optional {description: str # An arbitrary string attached to the object., metadata: map # Set of key-value pairs for additional information., receipt_email: str # The email address to send the receipt to., shipping: map # Shipping information for the charge., fraud_details: map # A set of key-value pairs for fraud details reporting., transfer_group: str # A string that identifies this transaction as part of a group.}
@returns(200) Returns the updated charge object.
@errors {400: Invalid request parameters.}

@endpoint POST /v1/charges/{charge}/capture
@desc Capture a charge
@required {charge: str # The identifier of the charge to be captured.}
@optional {amount: int # The amount to capture, which must be less than or equal to the original amount., receipt_email: str # The email address to send the receipt to., statement_descriptor: str # For card charges, use statement_descriptor_suffix., application_fee_amount: int # An application fee amount to capture, must be less than or equal to the original amount., transfer_data: map # Transfer data for destination charges.}
@returns(200) Returns the captured charge object.
@errors {400: Charge has already been captured or is not capturable.}

@end
