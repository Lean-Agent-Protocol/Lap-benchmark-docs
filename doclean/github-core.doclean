@doclean v0.3
# Machine-readable API spec. Each @endpoint block is one API call.
@api GitHub REST API
@base https://api.github.com
@version 2022-11-28
@auth Bearer bearer
@common_fields {owner: str # The account owner of the repository, repo: str # The name of the repository}
@endpoints 6
@toc repos(6)

@endpoint GET /repos/{owner}/{repo}
@desc Get a repository
@returns(200) {id: int, name: str, full_name: str, private: bool, description: str?, fork: bool, html_url: str, language: str?, stargazers_count: int, forks_count: int, default_branch: str, owner: map{login: str, id: int, avatar_url: str}} # Repository details
@errors {404: Repository not found, 403: Forbidden}

@endpoint GET /repos/{owner}/{repo}/issues
@desc List repository issues
@optional {state: str(open/closed/all)=open # Filter by state, labels: str # Comma-separated list of label names, sort: str(created/updated/comments)=created # What to sort results by, direction: str(asc/desc)=desc # Sort direction, per_page: int=30 # Results per page (max 100), page: int=1 # Page number}
@returns(200) List of issues
@errors {404: Repository not found}

@endpoint POST /repos/{owner}/{repo}/issues
@desc Create an issue
@required {title: str # The title of the issue}
@optional {body: str # The contents of the issue, assignees: [str] # Logins for users to assign to this issue, labels: [str] # Labels to associate with this issue, milestone: int # The number of the milestone to associate this issue with}
@returns(201) {id: int, number: int, title: str, state: str, html_url: str} # Issue created
@errors {403: Forbidden, 410: Issues are disabled for this repository, 422: Validation failed}

@endpoint GET /repos/{owner}/{repo}/pulls
@desc List pull requests
@optional {state: str(open/closed/all)=open # Filter by state, head: str # Filter by head user or head organization and branch name (format: user:ref-name), base: str # Filter by base branch name, sort: str(created/updated/popularity/long-running)=created # What to sort results by, direction: str(asc/desc)=desc # Sort direction, per_page: int=30 # Results per page (max 100), page: int=1 # Page number}
@returns(200) List of pull requests
@errors {304: Not modified}

@endpoint POST /repos/{owner}/{repo}/pulls
@desc Create a pull request
@required {title: str # The title of the new pull request, head: str # The name of the branch where your changes are implemented (format: username:branch), base: str # The name of the branch you want the changes pulled into}
@optional {body: str # The contents of the pull request, draft: bool # Indicates whether the pull request is a draft, maintainer_can_modify: bool # Indicates whether maintainers can modify the pull request}
@returns(201) Pull request created
@errors {403: Forbidden, 422: Validation failed}

@endpoint PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge
@desc Merge a pull request
@required {pull_number: int # The number of the pull request}
@optional {commit_title: str # Title for the automatic merge commit, commit_message: str # Extra detail for the automatic merge commit, merge_method: str(merge/squash/rebase) # The merge method to use, sha: str # SHA that pull request head must match to allow merge}
@returns(200) Pull request merged successfully
@errors {405: Pull request is not mergeable, 409: Head branch was modified}

@end
