{
  "run_id": "e2f9aa9c",
  "spec": "proto-google-storage",
  "type": "protobuf",
  "variant": "verbose",
  "task_idx": 0,
  "task": "I need to create a new Cloud Storage bucket with versioning enabled, upload an object to it, then set a lifecycle policy to auto-delete objects older than 90 days. Show me the gRPC calls.",
  "prompt": "You are an API integration assistant. You will be given API documentation and a task.\n\nYour job: solve the task using ONLY the provided documentation. Do not make up endpoints, fields, or parameters that aren't in the docs.\n\n## Output Format (MANDATORY)\n\nYour response MUST follow this exact structure:\n\n### Plan\nBrief description of what API calls are needed and in what order.\n\n### API Calls\nFor each API call, provide:\n\n```\nCALL {n}:\n  Method: {HTTP_METHOD/RPC_TYPE/PUB|SUB/QUERY|MUTATION}\n  Endpoint: {path or channel or operation name}\n  Parameters: {required params with example values}\n  Body: {request body if applicable}\n  Expected Response: {key fields from response}\n```\n\n### Code Example\nComplete, runnable code example (Python preferred, or appropriate language for the protocol) that implements the full task.\n\n### Notes\nAny important caveats, rate limits, auth requirements, or edge cases from the docs.\n\n---\nIMPORTANT: Only use endpoints/operations that exist in the provided documentation. If the task requires something not in the docs, say so explicitly.\n\n\n## Raw API Documentation (protobuf)\n\n<documentation>\n// Copyright 2026 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nsyntax = \"proto3\";\n\npackage google.storage.v2;\n\nimport \"google/api/client.proto\";\nimport \"google/api/field_behavior.proto\";\nimport \"google/api/resource.proto\";\nimport \"google/api/routing.proto\";\nimport \"google/iam/v1/iam_policy.proto\";\nimport \"google/iam/v1/policy.proto\";\nimport \"google/protobuf/duration.proto\";\nimport \"google/protobuf/empty.proto\";\nimport \"google/protobuf/field_mask.proto\";\nimport \"google/protobuf/timestamp.proto\";\nimport \"google/rpc/status.proto\";\nimport \"google/type/date.proto\";\n\noption go_package = \"cloud.google.com/go/storage/internal/apiv2/storagepb;storagepb\";\noption java_multiple_files = true;\noption java_outer_classname = \"StorageProto\";\noption java_package = \"com.google.storage.v2\";\noption (google.api.resource_definition) = {\n  type: \"cloudkms.googleapis.com/CryptoKey\"\n  pattern: \"projects/{project}/locations/{location}/keyRings/{key_ring}/cryptoKeys/{crypto_key}\"\n};\n\n// ## API Overview and Naming Syntax\n//\n// The Cloud Storage gRPC API allows applications to read and write data through\n// the abstractions of buckets and objects. For a description of these\n// abstractions please see [Cloud Storage\n// documentation](https://cloud.google.com/storage/docs).\n//\n// Resources are named as follows:\n//\n//   - Projects are referred to as they are defined by the Resource Manager API,\n//     using strings like `projects/123456` or `projects/my-string-id`.\n//   - Buckets are named using string names of the form:\n//     `projects/{project}/buckets/{bucket}`.\n//     For globally unique buckets, `_` might be substituted for the project.\n//   - Objects are uniquely identified by their name along with the name of the\n//     bucket they belong to, as separate strings in this API. For example:\n//\n//         ```\n//         ReadObjectRequest {\n//         bucket: 'projects/_/buckets/my-bucket'\n//         object: 'my-object'\n//         }\n//         ```\n//\n// Note that object names can contain `/` characters, which are treated as\n// any other character (no special directory semantics).\nservice Storage {\n  option (google.api.default_host) = \"storage.googleapis.com\";\n  option (google.api.oauth_scopes) =\n      \"https://www.googleapis.com/auth/cloud-platform,\"\n      \"https://www.googleapis.com/auth/cloud-platform.read-only,\"\n      \"https://www.googleapis.com/auth/devstorage.full_control,\"\n      \"https://www.googleapis.com/auth/devstorage.read_only,\"\n      \"https://www.googleapis.com/auth/devstorage.read_write\";\n\n  // Permanently deletes an empty bucket.\n  // The request fails if there are any live or\n  // noncurrent objects in the bucket, but the request succeeds if the\n  // bucket only contains soft-deleted objects or incomplete uploads, such\n  // as ongoing XML API multipart uploads. Does not permanently delete\n  // soft-deleted objects.\n  //\n  // When this API is used to delete a bucket containing an object that has a\n  // soft delete policy\n  // enabled, the object becomes soft deleted, and the\n  // `softDeleteTime` and `hardDeleteTime` properties are set on the\n  // object.\n  //\n  // Objects and multipart uploads that were in the bucket at the time of\n  // deletion are also retained for the specified retention duration. When\n  // a soft-deleted bucket reaches the end of its retention duration, it\n  // is permanently deleted. The `hardDeleteTime` of the bucket always\n  // equals\n  // or exceeds the expiration time of the last soft-deleted object in the\n  // bucket.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.buckets.delete` IAM permission on the bucket.\n  rpc DeleteBucket(DeleteBucketRequest) returns (google.protobuf.Empty) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"name\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"name\";\n  }\n\n  // Returns metadata for the specified bucket.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.buckets.get`\n  // IAM permission on\n  // the bucket. Additionally, to return specific bucket metadata, the\n  // authenticated user must have the following permissions:\n  //\n  // - To return the IAM policies: `storage.buckets.getIamPolicy`\n  // - To return the bucket IP filtering rules: `storage.buckets.getIpFilter`\n  rpc GetBucket(GetBucketRequest) returns (Bucket) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"name\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"name\";\n  }\n\n  // Creates a new bucket.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.buckets.create` IAM permission on the bucket.\n  // Additionally, to enable specific bucket features, the authenticated user\n  // must have the following permissions:\n  //\n  // - To enable object retention using the `enableObjectRetention` query\n  // parameter: `storage.buckets.enableObjectRetention`\n  // - To set the bucket IP filtering rules: `storage.buckets.setIpFilter`\n  rpc CreateBucket(CreateBucketRequest) returns (Bucket) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"parent\" path_template: \"{project=**}\" }\n      routing_parameters {\n        field: \"bucket.project\"\n        path_template: \"{project=**}\"\n      }\n    };\n    option (google.api.method_signature) = \"parent,bucket,bucket_id\";\n  }\n\n  // Retrieves a list of buckets for a given project, ordered\n  // lexicographically by name.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.buckets.list` IAM permission on the bucket.\n  // Additionally, to enable specific bucket features, the authenticated\n  // user must have the following permissions:\n  //\n  // - To list the IAM policies: `storage.buckets.getIamPolicy`\n  // - To list the bucket IP filtering rules: `storage.buckets.getIpFilter`\n  rpc ListBuckets(ListBucketsRequest) returns (ListBucketsResponse) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"parent\" path_template: \"{project=**}\" }\n    };\n    option (google.api.method_signature) = \"parent\";\n  }\n\n  // Permanently locks the retention\n  // policy that is\n  // currently applied to the specified bucket.\n  //\n  // Caution: Locking a bucket is an\n  // irreversible action. Once you lock a bucket:\n  //\n  // - You cannot remove the retention policy from the bucket.\n  // - You cannot decrease the retention period for the policy.\n  //\n  // Once locked, you must delete the entire bucket in order to remove the\n  // bucket's retention policy. However, before you can delete the bucket, you\n  // must delete all the objects in the bucket, which is only\n  // possible if all the objects have reached the retention period set by the\n  // retention policy.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.buckets.update` IAM permission on the bucket.\n  rpc LockBucketRetentionPolicy(LockBucketRetentionPolicyRequest)\n      returns (Bucket) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"bucket\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"bucket\";\n  }\n\n  // Gets the IAM policy for a specified bucket or managed folder.\n  // The `resource` field in the request should be\n  // `projects/_/buckets/{bucket}` for a bucket, or\n  // `projects/_/buckets/{bucket}/managedFolders/{managedFolder}`\n  // for a managed folder.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.buckets.getIamPolicy` on the bucket or\n  // `storage.managedFolders.getIamPolicy` IAM permission on the\n  // managed folder.\n  rpc GetIamPolicy(google.iam.v1.GetIamPolicyRequest)\n      returns (google.iam.v1.Policy) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"resource\" path_template: \"{bucket=**}\" }\n      routing_parameters {\n        field: \"resource\"\n        path_template: \"{bucket=projects/*/buckets/*}/**\"\n      }\n    };\n    option (google.api.method_signature) = \"resource\";\n  }\n\n  // Updates an IAM policy for the specified bucket or managed folder.\n  // The `resource` field in the request should be\n  // `projects/_/buckets/{bucket}` for a bucket, or\n  // `projects/_/buckets/{bucket}/managedFolders/{managedFolder}`\n  // for a managed folder.\n  rpc SetIamPolicy(google.iam.v1.SetIamPolicyRequest)\n      returns (google.iam.v1.Policy) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"resource\" path_template: \"{bucket=**}\" }\n      routing_parameters {\n        field: \"resource\"\n        path_template: \"{bucket=projects/*/buckets/*}/**\"\n      }\n    };\n    option (google.api.method_signature) = \"resource,policy\";\n  }\n\n  // Tests a set of permissions on the given bucket, object, or managed folder\n  // to see which, if any, are held by the caller. The `resource` field in the\n  // request should be `projects/_/buckets/{bucket}` for a bucket,\n  // `projects/_/buckets/{bucket}/objects/{object}` for an object, or\n  // `projects/_/buckets/{bucket}/managedFolders/{managedFolder}`\n  // for a managed folder.\n  rpc TestIamPermissions(google.iam.v1.TestIamPermissionsRequest)\n      returns (google.iam.v1.TestIamPermissionsResponse) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"resource\" path_template: \"{bucket=**}\" }\n      routing_parameters {\n        field: \"resource\"\n        path_template: \"{bucket=projects/*/buckets/*}/objects/**\"\n      }\n      routing_parameters {\n        field: \"resource\"\n        path_template: \"{bucket=projects/*/buckets/*}/managedFolders/**\"\n      }\n    };\n    option (google.api.method_signature) = \"resource,permissions\";\n  }\n\n  // Updates a bucket. Changes to the bucket are readable immediately after\n  // writing, but configuration changes might take time to propagate. This\n  // method supports `patch` semantics.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.buckets.update` IAM permission on the bucket.\n  // Additionally, to enable specific bucket features, the authenticated user\n  // must have the following permissions:\n  //\n  // - To set bucket IP filtering rules: `storage.buckets.setIpFilter`\n  // - To update public access prevention policies or access control lists\n  // (ACLs): `storage.buckets.setIamPolicy`\n  rpc UpdateBucket(UpdateBucketRequest) returns (Bucket) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"bucket.name\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"bucket,update_mask\";\n  }\n\n  // Concatenates a list of existing objects into a new object in the same\n  // bucket. The existing source objects are unaffected by this operation.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires the `storage.objects.create` and `storage.objects.get` IAM\n  // permissions to use this method. If the new composite object\n  // overwrites an existing object, the authenticated user must also have\n  // the `storage.objects.delete` permission. If the request body includes\n  // the retention property, the authenticated user must also have the\n  // `storage.objects.setRetention` IAM permission.\n  rpc ComposeObject(ComposeObjectRequest) returns (Object) {\n    option (google.api.routing) = {\n      routing_parameters {\n        field: \"destination.bucket\"\n        path_template: \"{bucket=**}\"\n      }\n    };\n  }\n\n  // Deletes an object and its metadata. Deletions are permanent if versioning\n  // is not enabled for the bucket, or if the generation parameter is used, or\n  // if soft delete is not\n  // enabled for the bucket.\n  // When this API is used to delete an object from a bucket that has soft\n  // delete policy enabled, the object becomes soft deleted, and the\n  // `softDeleteTime` and `hardDeleteTime` properties are set on the object.\n  // This API cannot be used to permanently delete soft-deleted objects.\n  // Soft-deleted objects are permanently deleted according to their\n  // `hardDeleteTime`.\n  //\n  // You can use the [`RestoreObject`][google.storage.v2.Storage.RestoreObject]\n  // API to restore soft-deleted objects until the soft delete retention period\n  // has passed.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.objects.delete` IAM permission on the bucket.\n  rpc DeleteObject(DeleteObjectRequest) returns (google.protobuf.Empty) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"bucket\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"bucket,object\";\n    option (google.api.method_signature) = \"bucket,object,generation\";\n  }\n\n  // Restores a\n  // soft-deleted object.\n  // When a soft-deleted object is restored, a new copy of that object is\n  // created in the same bucket and inherits the same metadata as the\n  // soft-deleted object. The inherited metadata is the metadata that existed\n  // when the original object became soft deleted, with the following\n  // exceptions:\n  //\n  //   - The `createTime` of the new object is set to the time at which the\n  //   soft-deleted object was restored.\n  //   - The `softDeleteTime` and `hardDeleteTime` values are cleared.\n  //   - A new generation is assigned and the metageneration is reset to 1.\n  //   - If the soft-deleted object was in a bucket that had Autoclass enabled,\n  //   the new object is\n  //     restored to Standard storage.\n  //   - The restored object inherits the bucket's default object ACL, unless\n  //   `copySourceAcl` is `true`.\n  //\n  // If a live object using the same name already exists in the bucket and\n  // becomes overwritten, the live object becomes a noncurrent object if Object\n  // Versioning is enabled on the bucket. If Object Versioning is not enabled,\n  // the live object becomes soft deleted.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires the following IAM permissions to use this method:\n  //\n  //   - `storage.objects.restore`\n  //   - `storage.objects.create`\n  //   - `storage.objects.delete` (only required if overwriting an existing\n  //   object)\n  //   - `storage.objects.getIamPolicy` (only required if `projection` is `full`\n  //   and the relevant bucket\n  //     has uniform bucket-level access disabled)\n  //   - `storage.objects.setIamPolicy` (only required if `copySourceAcl` is\n  //   `true` and the relevant\n  //     bucket has uniform bucket-level access disabled)\n  rpc RestoreObject(RestoreObjectRequest) returns (Object) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"bucket\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"bucket,object,generation\";\n  }\n\n  // Cancels an in-progress resumable upload.\n  //\n  // Any attempts to write to the resumable upload after cancelling the upload\n  // fail.\n  //\n  // The behavior for any in-progress write operations is not guaranteed;\n  // they could either complete before the cancellation or fail if the\n  // cancellation completes first.\n  rpc CancelResumableWrite(CancelResumableWriteRequest)\n      returns (CancelResumableWriteResponse) {\n    option (google.api.routing) = {\n      routing_parameters {\n        field: \"upload_id\"\n        path_template: \"{bucket=projects/*/buckets/*}/**\"\n      }\n    };\n    option (google.api.method_signature) = \"upload_id\";\n  }\n\n  // Retrieves object metadata.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.objects.get` IAM permission on the bucket.\n  // To return object ACLs, the authenticated user must also have\n  // the `storage.objects.getIamPolicy` permission.\n  rpc GetObject(GetObjectRequest) returns (Object) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"bucket\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"bucket,object\";\n    option (google.api.method_signature) = \"bucket,object,generation\";\n  }\n\n  // Retrieves object data.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.objects.get` IAM permission on the bucket.\n  rpc ReadObject(ReadObjectRequest) returns (stream ReadObjectResponse) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"bucket\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"bucket,object\";\n    option (google.api.method_signature) = \"bucket,object,generation\";\n  }\n\n  // Reads an object's data.\n  //\n  // This bi-directional API reads data from an object, allowing you to request\n  // multiple data ranges within a single stream, even across several messages.\n  // If an error occurs with any request, the stream closes with a relevant\n  // error code. Since you can have multiple outstanding requests, the error\n  // response includes a `BidiReadObjectError` proto in its `details` field,\n  // reporting the specific error, if any, for each pending `read_id`.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.objects.get` IAM permission on the bucket.\n  //\n  rpc BidiReadObject(stream BidiReadObjectRequest)\n      returns (stream BidiReadObjectResponse) {\n    option (google.api.routing) = {\n      routing_parameters {\n        field: \"read_object_spec.bucket\"\n        path_template: \"{bucket=**}\"\n      }\n    };\n  }\n\n  // Updates an object's metadata.\n  // Equivalent to JSON API's `storage.objects.patch` method.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.objects.update` IAM permission on the bucket.\n  rpc UpdateObject(UpdateObjectRequest) returns (Object) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"object.bucket\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"object,update_mask\";\n  }\n\n  // Stores a new object and metadata.\n  //\n  // An object can be written either in a single message stream or in a\n  // resumable sequence of message streams. To write using a single stream,\n  // the client should include in the first message of the stream an\n  // `WriteObjectSpec` describing the destination bucket, object, and any\n  // preconditions. Additionally, the final message must set 'finish_write' to\n  // true, or else it is an error.\n  //\n  // For a resumable write, the client should instead call\n  // `StartResumableWrite()`, populating a `WriteObjectSpec` into that request.\n  // They should then attach the returned `upload_id` to the first message of\n  // each following call to `WriteObject`. If the stream is closed before\n  // finishing the upload (either explicitly by the client or due to a network\n  // error or an error response from the server), the client should do as\n  // follows:\n  //\n  //   - Check the result Status of the stream, to determine if writing can be\n  //     resumed on this stream or must be restarted from scratch (by calling\n  //     `StartResumableWrite()`). The resumable errors are `DEADLINE_EXCEEDED`,\n  //     `INTERNAL`, and `UNAVAILABLE`. For each case, the client should use\n  //     binary exponential backoff before retrying.  Additionally, writes can\n  //     be resumed after `RESOURCE_EXHAUSTED` errors, but only after taking\n  //     appropriate measures, which might include reducing aggregate send rate\n  //     across clients and/or requesting a quota increase for your project.\n  //   - If the call to `WriteObject` returns `ABORTED`, that indicates\n  //     concurrent attempts to update the resumable write, caused either by\n  //     multiple racing clients or by a single client where the previous\n  //     request was timed out on the client side but nonetheless reached the\n  //     server. In this case the client should take steps to prevent further\n  //     concurrent writes. For example, increase the timeouts and stop using\n  //     more than one process to perform the upload. Follow the steps below for\n  //     resuming the upload.\n  //   - For resumable errors, the client should call `QueryWriteStatus()` and\n  //     then continue writing from the returned `persisted_size`. This might be\n  //     less than the amount of data the client previously sent. Note also that\n  //     it is acceptable to send data starting at an offset earlier than the\n  //     returned `persisted_size`; in this case, the service skips data at\n  //     offsets that were already persisted (without checking that it matches\n  //     the previously written data), and write only the data starting from the\n  //     persisted offset. Even though the data isn't written, it might still\n  //     incur a performance cost over resuming at the correct write offset.\n  //     This behavior can make client-side handling simpler in some cases.\n  //   - Clients must only send data that is a multiple of 256 KiB per message,\n  //     unless the object is being finished with `finish_write` set to `true`.\n  //\n  // The service does not view the object as complete until the client has\n  // sent a `WriteObjectRequest` with `finish_write` set to `true`. Sending any\n  // requests on a stream after sending a request with `finish_write` set to\n  // `true` causes an error. The client must check the response it\n  // receives to determine how much data the service is able to commit and\n  // whether the service views the object as complete.\n  //\n  // Attempting to resume an already finalized object results in an `OK`\n  // status, with a `WriteObjectResponse` containing the finalized object's\n  // metadata.\n  //\n  // Alternatively, you can use the `BidiWriteObject` operation to write an\n  // object with controls over flushing and the ability to fetch the ability to\n  // determine the current persisted size.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.objects.create`\n  // IAM permission on\n  // the bucket.\n  rpc WriteObject(stream WriteObjectRequest) returns (WriteObjectResponse) {}\n\n  // Stores a new object and metadata.\n  //\n  // This is similar to the `WriteObject` call with the added support for\n  // manual flushing of persisted state, and the ability to determine current\n  // persisted size without closing the stream.\n  //\n  // The client might specify one or both of the `state_lookup` and `flush`\n  // fields in each `BidiWriteObjectRequest`. If `flush` is specified, the data\n  // written so far is persisted to storage. If `state_lookup` is specified, the\n  // service responds with a `BidiWriteObjectResponse` that contains the\n  // persisted size. If both `flush` and `state_lookup` are specified, the flush\n  // always occurs before a `state_lookup`, so that both might be set in the\n  // same request and the returned state is the state of the object\n  // post-flush. When the stream is closed, a `BidiWriteObjectResponse`\n  // is always sent to the client, regardless of the value of `state_lookup`.\n  rpc BidiWriteObject(stream BidiWriteObjectRequest)\n      returns (stream BidiWriteObjectResponse) {}\n\n  // Retrieves a list of objects matching the criteria.\n  //\n  // **IAM Permissions**:\n  //\n  // The authenticated user requires `storage.objects.list`\n  // IAM permission to use this method. To return object ACLs, the\n  // authenticated user must also\n  // have the `storage.objects.getIamPolicy` permission.\n  rpc ListObjects(ListObjectsRequest) returns (ListObjectsResponse) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"parent\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) = \"parent\";\n  }\n\n  // Rewrites a source object to a destination object. Optionally overrides\n  // metadata.\n  rpc RewriteObject(RewriteObjectRequest) returns (RewriteResponse) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"source_bucket\" }\n      routing_parameters {\n        field: \"destination_bucket\"\n        path_template: \"{bucket=**}\"\n      }\n    };\n  }\n\n  // Starts a resumable write operation. This\n  // method is part of the Resumable\n  // upload feature.\n  // This allows you to upload large objects in multiple chunks, which is more\n  // resilient to network interruptions than a single upload. The validity\n  // duration of the write operation, and the consequences of it becoming\n  // invalid, are service-dependent.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires `storage.objects.create` IAM permission on the bucket.\n  rpc StartResumableWrite(StartResumableWriteRequest)\n      returns (StartResumableWriteResponse) {\n    option (google.api.routing) = {\n      routing_parameters {\n        field: \"write_object_spec.resource.bucket\"\n        path_template: \"{bucket=**}\"\n      }\n    };\n  }\n\n  // Determines the `persisted_size` of an object that is being written. This\n  // method is part of the resumable\n  // upload feature.\n  // The returned value is the size of the object that has been persisted so\n  // far. The value can be used as the `write_offset` for the next `Write()`\n  // call.\n  //\n  // If the object does not exist, meaning if it was deleted, or the\n  // first `Write()` has not yet reached the service, this method returns the\n  // error `NOT_FOUND`.\n  //\n  // This method is useful for clients that buffer data and need to know which\n  // data can be safely evicted. The client can call `QueryWriteStatus()` at any\n  // time to determine how much data has been logged for this object.\n  // For any sequence of `QueryWriteStatus()` calls for a given\n  // object name, the sequence of returned `persisted_size` values are\n  // non-decreasing.\n  rpc QueryWriteStatus(QueryWriteStatusRequest)\n      returns (QueryWriteStatusResponse) {\n    option (google.api.routing) = {\n      routing_parameters {\n        field: \"upload_id\"\n        path_template: \"{bucket=projects/*/buckets/*}/**\"\n      }\n    };\n    option (google.api.method_signature) = \"upload_id\";\n  }\n\n  // Moves the source object to the destination object in the same bucket.\n  // This operation moves a source object to a destination object in the\n  // same bucket by renaming the object. The move itself is an atomic\n  // transaction, ensuring all steps either complete successfully or no\n  // changes are made.\n  //\n  // **IAM Permissions**:\n  //\n  // Requires the following IAM permissions to use this method:\n  //\n  //   - `storage.objects.move`\n  //   - `storage.objects.create`\n  //   - `storage.objects.delete` (only required if overwriting an existing\n  //   object)\n  rpc MoveObject(MoveObjectRequest) returns (Object) {\n    option (google.api.routing) = {\n      routing_parameters { field: \"bucket\" path_template: \"{bucket=**}\" }\n    };\n    option (google.api.method_signature) =\n        \"bucket,source_object,destination_object\";\n  }\n}\n\n// Request message for [DeleteBucket][google.storage.v2.Storage.DeleteBucket].\nmessage DeleteBucketRequest {\n  // Required. Name of a bucket to delete.\n  string name = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // If set, only deletes the bucket if its metageneration matches this value.\n  optional int64 if_metageneration_match = 2;\n\n  // If set, only deletes the bucket if its metageneration does not match this\n  // value.\n  optional int64 if_metageneration_not_match = 3;\n}\n\n// Request message for [GetBucket][google.storage.v2.Storage.GetBucket].\nmessage GetBucketRequest {\n  // Required. Name of a bucket.\n  string name = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // If set, only gets the bucket metadata if its metageneration matches this\n  // value.\n  optional int64 if_metageneration_match = 2;\n\n  // If set, and if the bucket's current metageneration matches the specified\n  // value, the request returns an error.\n  optional int64 if_metageneration_not_match = 3;\n\n  // Mask specifying which fields to read.\n  // A `*` field might be used to indicate all fields.\n  // If no mask is specified, it defaults to all fields.\n  optional google.protobuf.FieldMask read_mask = 5;\n}\n\n// Request message for [CreateBucket][google.storage.v2.Storage.CreateBucket].\nmessage CreateBucketRequest {\n  // Required. The project to which this bucket belongs. This field must either\n  // be empty or `projects/_`. The project ID that owns this bucket should be\n  // specified in the `bucket.project` field.\n  string parent = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = {\n      child_type: \"storage.googleapis.com/Bucket\"\n    }\n  ];\n\n  // Optional. Properties of the new bucket being inserted.\n  // The name of the bucket is specified in the `bucket_id` field. Populating\n  // `bucket.name` field results in an error.\n  // The project of the bucket must be specified in the `bucket.project` field.\n  // This field must be in `projects/{projectIdentifier}` format,\n  // {projectIdentifier} can be the project ID or project number. The `parent`\n  // field must be either empty or `projects/_`.\n  Bucket bucket = 2 [(google.api.field_behavior) = OPTIONAL];\n\n  // Required. The ID to use for this bucket, which becomes the final component\n  // of the bucket's resource name. For example, the value `foo` might result in\n  // a bucket with the name `projects/123456/buckets/foo`.\n  string bucket_id = 3 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. Apply a predefined set of access controls to this bucket.\n  // Valid values are `authenticatedRead`, `private`, `projectPrivate`,\n  // `publicRead`, or `publicReadWrite`.\n  string predefined_acl = 6 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Apply a predefined set of default object access controls to this\n  // bucket. Valid values are `authenticatedRead`, `bucketOwnerFullControl`,\n  // `bucketOwnerRead`, `private`, `projectPrivate`, or `publicRead`.\n  string predefined_default_object_acl = 7\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. If true, enable object retention on the bucket.\n  bool enable_object_retention = 9 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Request message for [ListBuckets][google.storage.v2.Storage.ListBuckets].\nmessage ListBucketsRequest {\n  // Required. The project whose buckets we are listing.\n  string parent = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = {\n      child_type: \"storage.googleapis.com/Bucket\"\n    }\n  ];\n\n  // Optional. Maximum number of buckets to return in a single response. The\n  // service uses this parameter or `1,000` items, whichever is smaller. If\n  // `acl` is present in the `read_mask`, the service uses this parameter of\n  // `200` items, whichever is smaller.\n  int32 page_size = 2 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. A previously-returned page token representing part of the larger\n  // set of results to view.\n  string page_token = 3 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Filter results to buckets whose names begin with this prefix.\n  string prefix = 4 [(google.api.field_behavior) = OPTIONAL];\n\n  // Mask specifying which fields to read from each result.\n  // If no mask is specified, it defaults to all fields except `items.\n  // owner`, `items.acl`, and `items.default_object_acl`.\n  // `*` might be used to mean \"all fields\".\n  optional google.protobuf.FieldMask read_mask = 5;\n\n  // Optional. Allows listing of buckets, even if there are buckets that are\n  // unreachable.\n  bool return_partial_success = 9 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Response message for [ListBuckets][google.storage.v2.Storage.ListBuckets].\nmessage ListBucketsResponse {\n  // The list of items.\n  repeated Bucket buckets = 1;\n\n  // The continuation token, used to page through large result sets. Provide\n  // this value in a subsequent request to return the next page of results.\n  string next_page_token = 2;\n\n  // Unreachable resources.\n  // This field can only be present if the caller specified\n  // return_partial_success to be true in the request to receive indications\n  // of temporarily missing resources.\n  // unreachable might be:\n  // unreachable = [\n  //  \"projects/_/buckets/bucket1\",\n  //  \"projects/_/buckets/bucket2\",\n  //  \"projects/_/buckets/bucket3\",\n  // ]\n  repeated string unreachable = 3;\n}\n\n// Request message for\n// [LockBucketRetentionPolicy][google.storage.v2.Storage.LockBucketRetentionPolicy].\nmessage LockBucketRetentionPolicyRequest {\n  // Required. Name of a bucket.\n  string bucket = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Required. Makes the operation conditional on whether bucket's current\n  // metageneration matches the given value. Must be positive.\n  int64 if_metageneration_match = 2 [(google.api.field_behavior) = REQUIRED];\n}\n\n// Request for [UpdateBucket][google.storage.v2.Storage.UpdateBucket] method.\nmessage UpdateBucketRequest {\n  // Required. The bucket to update.\n  // The bucket's `name` field is used to identify the bucket.\n  Bucket bucket = 1 [(google.api.field_behavior) = REQUIRED];\n\n  // If set, the request modifies the bucket if its metageneration matches this\n  // value.\n  optional int64 if_metageneration_match = 2;\n\n  // If set, the request modifies the bucket if its metageneration doesn't\n  // match this value.\n  optional int64 if_metageneration_not_match = 3;\n\n  // Optional. Apply a predefined set of access controls to this bucket.\n  // Valid values are `authenticatedRead`, `private`, `projectPrivate`,\n  // `publicRead`, or `publicReadWrite`.\n  string predefined_acl = 8 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Apply a predefined set of default object access controls to this\n  // bucket. Valid values are `authenticatedRead`, `bucketOwnerFullControl`,\n  // `bucketOwnerRead`, `private`, `projectPrivate`, or `publicRead`.\n  string predefined_default_object_acl = 9\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Required. List of fields to be updated.\n  //\n  // To specify ALL fields, equivalent to the JSON API's \"update\" function,\n  // specify a single field with the value `*`. Note: not recommended. If a new\n  // field is introduced at a later time, an older client updating with the `*`\n  // might accidentally reset the new field's value.\n  //\n  // Not specifying any fields is an error.\n  google.protobuf.FieldMask update_mask = 6\n      [(google.api.field_behavior) = REQUIRED];\n}\n\n// Request message for [ComposeObject][google.storage.v2.Storage.ComposeObject].\nmessage ComposeObjectRequest {\n  // Description of a source object for a composition request.\n  message SourceObject {\n    // Preconditions for a source object of a composition request.\n    message ObjectPreconditions {\n      // Only perform the composition if the generation of the source object\n      // that would be used matches this value.  If this value and a generation\n      // are both specified, they must be the same value or the call fails.\n      optional int64 if_generation_match = 1;\n    }\n\n    // Required. The source object's name. All source objects must reside in the\n    // same bucket.\n    string name = 1 [(google.api.field_behavior) = REQUIRED];\n\n    // Optional. The generation of this object to use as the source.\n    int64 generation = 2 [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. Conditions that must be met for this operation to execute.\n    ObjectPreconditions object_preconditions = 3\n        [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Required. Properties of the resulting object.\n  Object destination = 1 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. The list of source objects that is concatenated into a single\n  // object.\n  repeated SourceObject source_objects = 2\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Apply a predefined set of access controls to the destination\n  // object. Valid values are `authenticatedRead`, `bucketOwnerFullControl`,\n  // `bucketOwnerRead`, `private`, `projectPrivate`, or `publicRead`.\n  string destination_predefined_acl = 9\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Makes the operation conditional on whether the object's current generation\n  // matches the given value. Setting to 0 makes the operation succeed only if\n  // there are no live versions of the object.\n  optional int64 if_generation_match = 4;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration matches the given value.\n  optional int64 if_metageneration_match = 5;\n\n  // Optional. Resource name of the Cloud KMS key, of the form\n  // `projects/my-project/locations/my-location/keyRings/my-kr/cryptoKeys/my-key`,\n  // that is used to encrypt the object. Overrides the object\n  // metadata's `kms_key_name` value, if any.\n  string kms_key = 6 [\n    (google.api.field_behavior) = OPTIONAL,\n    (google.api.resource_reference) = {\n      type: \"cloudkms.googleapis.com/CryptoKey\"\n    }\n  ];\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 7\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The checksums of the complete object. This is validated against\n  // the combined checksums of the component objects.\n  ObjectChecksums object_checksums = 10\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Whether the source objects should be deleted in the compose request.\n  optional bool delete_source_objects = 11;\n}\n\n// Request message for deleting an object.\nmessage DeleteObjectRequest {\n  // Required. Name of the bucket in which the object resides.\n  string bucket = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Required. The name of the finalized object to delete.\n  // Note: If you want to delete an unfinalized resumable upload please use\n  // `CancelResumableWrite`.\n  string object = 2 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. If present, permanently deletes a specific revision of this\n  // object (as opposed to the latest version, the default).\n  int64 generation = 4 [(google.api.field_behavior) = OPTIONAL];\n\n  // Makes the operation conditional on whether the object's current generation\n  // matches the given value. Setting to 0 makes the operation succeed only if\n  // there are no live versions of the object.\n  optional int64 if_generation_match = 5;\n\n  // Makes the operation conditional on whether the object's live generation\n  // does not match the given value. If no live object exists, the precondition\n  // fails. Setting to 0 makes the operation succeed only if there is a live\n  // version of the object.\n  optional int64 if_generation_not_match = 6;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration matches the given value.\n  optional int64 if_metageneration_match = 7;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration does not match the given value.\n  optional int64 if_metageneration_not_match = 8;\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 10\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Request message for\n// [RestoreObject][google.storage.v2.Storage.RestoreObject].\n// `bucket`, `object`, and `generation` **must** be set.\nmessage RestoreObjectRequest {\n  // Required. Name of the bucket in which the object resides.\n  string bucket = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Required. The name of the object to restore.\n  string object = 2 [(google.api.field_behavior) = REQUIRED];\n\n  // Required. The specific revision of the object to restore.\n  int64 generation = 3 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. Restore token used to differentiate soft-deleted objects with the\n  // same name and generation. Only applicable for hierarchical namespace\n  // buckets. This parameter is optional, and is only required in the rare case\n  // when there are multiple soft-deleted objects with the same name and\n  // generation.\n  string restore_token = 11 [(google.api.field_behavior) = OPTIONAL];\n\n  // Makes the operation conditional on whether the object's current generation\n  // matches the given value. Setting to 0 makes the operation succeed only if\n  // there are no live versions of the object.\n  optional int64 if_generation_match = 4;\n\n  // Makes the operation conditional on whether the object's live generation\n  // does not match the given value. If no live object exists, the precondition\n  // fails. Setting to 0 makes the operation succeed only if there is a live\n  // version of the object.\n  optional int64 if_generation_not_match = 5;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration matches the given value.\n  optional int64 if_metageneration_match = 6;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration does not match the given value.\n  optional int64 if_metageneration_not_match = 7;\n\n  // If false or unset, the bucket's default object ACL is used.\n  // If true, copy the source object's access controls.\n  // Return an error if bucket has UBLA enabled.\n  optional bool copy_source_acl = 9;\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 8\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Request message for\n// [CancelResumableWrite][google.storage.v2.Storage.CancelResumableWrite].\nmessage CancelResumableWriteRequest {\n  // Required. The upload_id of the resumable upload to cancel. This should be\n  // copied from the `upload_id` field of `StartResumableWriteResponse`.\n  string upload_id = 1 [(google.api.field_behavior) = REQUIRED];\n}\n\n// Empty response message for canceling an in-progress resumable upload, is\n// extended as needed.\nmessage CancelResumableWriteResponse {}\n\n// Request message for [ReadObject][google.storage.v2.Storage.ReadObject].\nmessage ReadObjectRequest {\n  // Required. The name of the bucket containing the object to read.\n  string bucket = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Required. The name of the object to read.\n  string object = 2 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. If present, selects a specific revision of this object (as\n  // opposed to the latest version, the default).\n  int64 generation = 3 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The offset for the first byte to return in the read, relative to\n  // the start of the object.\n  //\n  // A negative `read_offset` value is interpreted as the number of bytes\n  // back from the end of the object to be returned. For example, if an object's\n  // length is `15` bytes, a `ReadObjectRequest` with `read_offset` = `-5` and\n  // `read_limit` = `3` would return bytes `10` through `12` of the object.\n  // Requesting a negative offset with magnitude larger than the size of the\n  // object returns the entire object.\n  int64 read_offset = 4 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The maximum number of `data` bytes the server is allowed to\n  // return in the sum of all `Object` messages. A `read_limit` of zero\n  // indicates that there is no limit, and a negative `read_limit` causes an\n  // error.\n  //\n  // If the stream returns fewer bytes than allowed by the `read_limit` and no\n  // error occurred, the stream includes all data from the `read_offset` to the\n  // end of the resource.\n  int64 read_limit = 5 [(google.api.field_behavior) = OPTIONAL];\n\n  // Makes the operation conditional on whether the object's current generation\n  // matches the given value. Setting to 0 makes the operation succeed only if\n  // there are no live versions of the object.\n  optional int64 if_generation_match = 6;\n\n  // Makes the operation conditional on whether the object's live generation\n  // does not match the given value. If no live object exists, the precondition\n  // fails. Setting to 0 makes the operation succeed only if there is a live\n  // version of the object.\n  optional int64 if_generation_not_match = 7;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration matches the given value.\n  optional int64 if_metageneration_match = 8;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration does not match the given value.\n  optional int64 if_metageneration_not_match = 9;\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 10\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Mask specifying which fields to read.\n  // The `checksummed_data` field and its children are always present.\n  // If no mask is specified, it defaults to all fields except `metadata.\n  // owner` and `metadata.acl`.\n  // `*` might be used to mean \"all fields\".\n  optional google.protobuf.FieldMask read_mask = 12;\n}\n\n// Request message for [GetObject][google.storage.v2.Storage.GetObject].\nmessage GetObjectRequest {\n  // Required. Name of the bucket in which the object resides.\n  string bucket = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Required. Name of the object.\n  string object = 2 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. If present, selects a specific revision of this object (as\n  // opposed to the latest version, the default).\n  int64 generation = 3 [(google.api.field_behavior) = OPTIONAL];\n\n  // If true, return the soft-deleted version of this object.\n  optional bool soft_deleted = 11;\n\n  // Makes the operation conditional on whether the object's current generation\n  // matches the given value. Setting to 0 makes the operation succeed only if\n  // there are no live versions of the object.\n  optional int64 if_generation_match = 4;\n\n  // Makes the operation conditional on whether the object's live generation\n  // does not match the given value. If no live object exists, the precondition\n  // fails. Setting to 0 makes the operation succeed only if there is a live\n  // version of the object.\n  optional int64 if_generation_not_match = 5;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration matches the given value.\n  optional int64 if_metageneration_match = 6;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration does not match the given value.\n  optional int64 if_metageneration_not_match = 7;\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 8\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Mask specifying which fields to read.\n  // If no mask is specified, it defaults to all fields except `metadata.\n  // acl` and `metadata.owner`.\n  // `*` might be used to mean \"all fields\".\n  optional google.protobuf.FieldMask read_mask = 10;\n\n  // Optional. Restore token used to differentiate soft-deleted objects with the\n  // same name and generation. Only applicable for hierarchical namespace\n  // buckets and if `soft_deleted` is set to `true`. This parameter is optional,\n  // and is only required in the rare case when there are multiple soft-deleted\n  // objects with the same `name` and `generation`.\n  string restore_token = 12 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Response message for [ReadObject][google.storage.v2.Storage.ReadObject].\nmessage ReadObjectResponse {\n  // A portion of the data for the object. The service might leave `data`\n  // empty for any given `ReadResponse`. This enables the service to inform the\n  // client that the request is still live while it is running an operation to\n  // generate more data.\n  ChecksummedData checksummed_data = 1;\n\n  // The checksums of the complete object. If the object is downloaded in full,\n  // the client should compute one of these checksums over the downloaded object\n  // and compare it against the value provided here.\n  ObjectChecksums object_checksums = 2;\n\n  // If `read_offset` and or `read_limit` is specified on the\n  // `ReadObjectRequest`, `ContentRange` is populated on the first\n  // `ReadObjectResponse` message of the read stream.\n  ContentRange content_range = 3;\n\n  // Metadata of the object whose media is being returned.\n  // Only populated in the first response in the stream.\n  Object metadata = 4;\n}\n\n// Describes the object to read in a BidiReadObject request.\nmessage BidiReadObjectSpec {\n  // Required. The name of the bucket containing the object to read.\n  string bucket = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Required. The name of the object to read.\n  string object = 2 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. If present, selects a specific revision of this object (as\n  // opposed to the latest version, the default).\n  int64 generation = 3 [(google.api.field_behavior) = OPTIONAL];\n\n  // Makes the operation conditional on whether the object's current generation\n  // matches the given value. Setting to 0 makes the operation succeed only if\n  // there are no live versions of the object.\n  optional int64 if_generation_match = 4;\n\n  // Makes the operation conditional on whether the object's live generation\n  // does not match the given value. If no live object exists, the precondition\n  // fails. Setting to 0 makes the operation succeed only if there is a live\n  // version of the object.\n  optional int64 if_generation_not_match = 5;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration matches the given value.\n  optional int64 if_metageneration_match = 6;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration does not match the given value.\n  optional int64 if_metageneration_not_match = 7;\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 8\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Mask specifying which fields to read.\n  // The `checksummed_data` field and its children are always present.\n  // If no mask is specified, it defaults to all fields except `metadata.\n  // owner` and `metadata.acl`.\n  // `*` might be used to mean \"all fields\".\n  // As per https://google.aip.dev/161, this field is deprecated.\n  // As an alternative, `grpc metadata` can be used:\n  optional google.protobuf.FieldMask read_mask = 12 [deprecated = true];\n\n  // The client can optionally set this field. The read handle is an optimized\n  // way of creating new streams. Read handles are generated and periodically\n  // refreshed from prior reads.\n  optional BidiReadHandle read_handle = 13;\n\n  // The routing token that influences request routing for the stream. Must be\n  // provided if a BidiReadObjectRedirectedError is returned.\n  optional string routing_token = 14;\n}\n\n// Request message for\n// [BidiReadObject][google.storage.v2.Storage.BidiReadObject].\nmessage BidiReadObjectRequest {\n  // Optional. The first message of each stream should set this field. If this\n  // is not the first message, an error is returned. Describes the object to\n  // read.\n  BidiReadObjectSpec read_object_spec = 1\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Provides a list of 0 or more (up to 100) ranges to read. If a\n  // single range is large enough to require multiple responses, they are\n  // delivered in increasing offset order. There are no ordering guarantees\n  // across ranges. When no ranges are provided, the response message\n  // doesn't  include `ObjectRangeData`. For full object downloads, the\n  // offset and size can be set to `0`.\n  repeated ReadRange read_ranges = 8 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Response message for\n// [BidiReadObject][google.storage.v2.Storage.BidiReadObject].\nmessage BidiReadObjectResponse {\n  // A portion of the object's data. The service might leave data\n  // empty for any given `ReadResponse`. This enables the service to inform the\n  // client that the request is still live while it is running an operation to\n  // generate more data.\n  // The service might pipeline multiple responses belonging to different read\n  // requests. Each `ObjectRangeData` entry has a `read_id` that is set\n  // to the same value as the corresponding source read request.\n  repeated ObjectRangeData object_data_ranges = 6;\n\n  // Metadata of the object whose media is being returned.\n  // Only populated in the first response in the stream and not populated when\n  // the stream is opened with a read handle.\n  Object metadata = 4;\n\n  // This field is periodically refreshed, however it might not be set in\n  // every response. It allows the client to more efficiently open subsequent\n  // bidirectional streams to the same object.\n  BidiReadHandle read_handle = 7;\n}\n\n// Error proto containing details for a redirected read. This error might be\n// attached as details for an ABORTED response to BidiReadObject.\nmessage BidiReadObjectRedirectedError {\n  // The read handle for the redirected read. If set, the client might use this\n  // in the BidiReadObjectSpec when retrying the read stream.\n  BidiReadHandle read_handle = 1;\n\n  // The routing token the client must use when retrying the read stream.\n  // This value must be provided in the header `x-goog-request-params`, with key\n  // `routing_token` and this string verbatim as the value.\n  optional string routing_token = 2;\n}\n\n// Error proto containing details for a redirected write. This error might be\n// attached as details for an ABORTED response to BidiWriteObject.\nmessage BidiWriteObjectRedirectedError {\n  // The routing token the client must use when retrying the write stream.\n  // This value must be provided in the header `x-goog-request-params`, with key\n  // `routing_token` and this string verbatim as the value.\n  optional string routing_token = 1;\n\n  // Opaque value describing a previous write. If set, the client must use this\n  // in an AppendObjectSpec first_message when retrying the write stream. If not\n  // set, clients might retry the original request.\n  optional BidiWriteHandle write_handle = 2;\n\n  // The generation of the object that triggered the redirect. This is set\n  // iff `write_handle` is set. If set, the client must use this in an\n  // `AppendObjectSpec` first_message when retrying the write stream.\n  optional int64 generation = 3;\n}\n\n// Error extension proto containing details for all outstanding reads on the\n// failed stream\nmessage BidiReadObjectError {\n  // The error code for each outstanding read_range\n  repeated ReadRangeError read_range_errors = 1;\n}\n\n// Error extension proto containing details for a single range read\nmessage ReadRangeError {\n  // The id of the corresponding read_range\n  int64 read_id = 1;\n\n  // The status which should be an enum value of [google.rpc.Code].\n  google.rpc.Status status = 2;\n}\n\n// Describes a range of bytes to read in a `BidiReadObjectRanges` request.\nmessage ReadRange {\n  // Required. The offset for the first byte to return in the read, relative to\n  // the start of the object.\n  //\n  // A negative read_offset value is interpreted as the number of bytes\n  // back from the end of the object to be returned. For example, if an object's\n  // length is 15 bytes, a `ReadObjectRequest` with `read_offset` = -5 and\n  // `read_length` = 3 would return bytes 10 through 12 of the object.\n  // Requesting a negative offset with magnitude larger than the size of the\n  // object is equivalent to `read_offset` = 0. A `read_offset` larger than the\n  // size of the object results in an `OutOfRange` error.\n  int64 read_offset = 1 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. The maximum number of data bytes the server is allowed to return\n  // across all response messages with the same `read_id`. A `read_length` of\n  // zero indicates to read until the resource end, and a negative `read_length`\n  // causes an `OutOfRange` error. If the stream returns fewer bytes than\n  // allowed by the `read_length` and no error occurred, the stream includes all\n  // data from the `read_offset` to the resource end.\n  int64 read_length = 2 [(google.api.field_behavior) = OPTIONAL];\n\n  // Required. Read identifier provided by the client. When the client issues\n  // more than one outstanding `ReadRange` on the same stream, responses can be\n  // mapped back to their corresponding requests using this value. Clients must\n  // ensure that all outstanding requests have different read_id values. The\n  // server might close the stream with an error if this condition is not met.\n  int64 read_id = 3 [(google.api.field_behavior) = REQUIRED];\n}\n\n// Contains data and metadata for a range of an object.\nmessage ObjectRangeData {\n  // A portion of the data for the object.\n  ChecksummedData checksummed_data = 1;\n\n  // The `ReadRange` describes the content being returned with `read_id` set to\n  // the corresponding `ReadObjectRequest` in the stream. Multiple\n  // `ObjectRangeData` messages might have the same read_id but increasing\n  // offsets. `ReadObjectResponse` messages with the same `read_id` are\n  // guaranteed to be delivered in increasing offset order.\n  ReadRange read_range = 2;\n\n  // If set, indicates there are no more bytes to read for the given ReadRange.\n  bool range_end = 3;\n}\n\n// `BidiReadHandle` contains a handle from a previous `BiDiReadObject`\n// invocation. The client can use this instead of `BidiReadObjectSpec` as an\n// optimized way of opening subsequent bidirectional streams to the same object.\nmessage BidiReadHandle {\n  // Required. Opaque value describing a previous read.\n  bytes handle = 1 [(google.api.field_behavior) = REQUIRED];\n}\n\n// `BidiWriteHandle` contains a handle from a previous `BidiWriteObject`\n// invocation. The client can use this instead of `BidiReadObjectSpec` as an\n// optimized way of opening subsequent bidirectional streams to the same object.\nmessage BidiWriteHandle {\n  // Required. Opaque value describing a previous write.\n  bytes handle = 1 [(google.api.field_behavior) = REQUIRED];\n}\n\n// Describes an attempt to insert an object, possibly over multiple requests.\nmessage WriteObjectSpec {\n  // Required. Destination object, including its name and its metadata.\n  Object resource = 1 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. Apply a predefined set of access controls to this object.\n  // Valid values are `authenticatedRead`, `bucketOwnerFullControl`,\n  // `bucketOwnerRead`, `private`, `projectPrivate`, or `publicRead`.\n  string predefined_acl = 7 [(google.api.field_behavior) = OPTIONAL];\n\n  // Makes the operation conditional on whether the object's current\n  // generation matches the given value. Setting to `0` makes the operation\n  // succeed only if there are no live versions of the object.\n  optional int64 if_generation_match = 3;\n\n  // Makes the operation conditional on whether the object's live\n  // generation does not match the given value. If no live object exists, the\n  // precondition fails. Setting to `0` makes the operation succeed only if\n  // there is a live version of the object.\n  optional int64 if_generation_not_match = 4;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration matches the given value.\n  optional int64 if_metageneration_match = 5;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration does not match the given value.\n  optional int64 if_metageneration_not_match = 6;\n\n  // The expected final object size being uploaded.\n  // If this value is set, closing the stream after writing fewer or more than\n  // `object_size` bytes results in an `OUT_OF_RANGE` error.\n  //\n  // This situation is considered a client error, and if such an error occurs\n  // you must start the upload over from scratch, this time sending the correct\n  // number of bytes.\n  optional int64 object_size = 8;\n\n  // If `true`, the object is created in appendable mode.\n  // This field might only be set when using `BidiWriteObject`.\n  optional bool appendable = 9;\n}\n\n// Request message for [WriteObject][google.storage.v2.Storage.WriteObject].\nmessage WriteObjectRequest {\n  // The first message of each stream should set one of the following.\n  oneof first_message {\n    // For resumable uploads. This should be the `upload_id` returned from a\n    // call to `StartResumableWriteResponse`.\n    string upload_id = 1;\n\n    // For non-resumable uploads. Describes the overall upload, including the\n    // destination bucket and object name, preconditions, etc.\n    WriteObjectSpec write_object_spec = 2;\n  }\n\n  // Required. The offset from the beginning of the object at which the data\n  // should be written.\n  //\n  // In the first `WriteObjectRequest` of a `WriteObject()` action, it\n  // indicates the initial offset for the `Write()` call. The value **must** be\n  // equal to the `persisted_size` that a call to `QueryWriteStatus()` would\n  // return (0 if this is the first write to the object).\n  //\n  // On subsequent calls, this value **must** be no larger than the sum of the\n  // first `write_offset` and the sizes of all `data` chunks sent previously on\n  // this stream.\n  //\n  // An incorrect value causes an error.\n  int64 write_offset = 3 [(google.api.field_behavior) = REQUIRED];\n\n  // A portion of the data for the object.\n  oneof data {\n    // The data to insert. If a crc32c checksum is provided that doesn't match\n    // the checksum computed by the service, the request fails.\n    ChecksummedData checksummed_data = 4;\n  }\n\n  // Optional. Checksums for the complete object. If the checksums computed by\n  // the service don't match the specified checksums the call fails. This field\n  // might only be provided in the first or last request (either with\n  // `first_message`, or `finish_write` set).\n  ObjectChecksums object_checksums = 6 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. If `true`, this indicates that the write is complete. Sending any\n  // `WriteObjectRequest`s subsequent to one in which `finish_write` is `true`\n  // causes an error.\n  // For a non-resumable write (where the `upload_id` was not set in the first\n  // message), it is an error not to set this field in the final message of the\n  // stream.\n  bool finish_write = 7 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. A set of parameters common to Cloud Storage API requests\n  // concerning an object.\n  CommonObjectRequestParams common_object_request_params = 8\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Response message for\n// [WriteObject][google.storage.v2.Storage.WriteObject].\nmessage WriteObjectResponse {\n  // The response sets one of the following.\n  oneof write_status {\n    // The total number of bytes that have been processed for the given object\n    // from all `WriteObject` calls. Only set if the upload has not finalized.\n    int64 persisted_size = 1;\n\n    // A resource containing the metadata for the uploaded object. Only set if\n    // the upload has finalized.\n    Object resource = 2;\n  }\n}\n\n// Describes an attempt to append to an object, possibly over multiple requests.\nmessage AppendObjectSpec {\n  // Required. The name of the bucket containing the object to write.\n  string bucket = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Required. The name of the object to open for writing.\n  string object = 2 [(google.api.field_behavior) = REQUIRED];\n\n  // Required. The generation number of the object to open for writing.\n  int64 generation = 3 [(google.api.field_behavior) = REQUIRED];\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration matches the given value.\n  //\n  // Note that metageneration preconditions are only checked if `write_handle`\n  // is empty.\n  optional int64 if_metageneration_match = 4;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration does not match the given value.\n  //\n  // Note that metageneration preconditions are only checked if `write_handle`\n  // is empty.\n  optional int64 if_metageneration_not_match = 5;\n\n  // An optional routing token that influences request routing for the stream.\n  // Must be provided if a `BidiWriteObjectRedirectedError` is returned.\n  optional string routing_token = 6;\n\n  // An optional write handle returned from a previous BidiWriteObjectResponse\n  // message or a BidiWriteObjectRedirectedError error.\n  //\n  // Note that metageneration preconditions are only checked if `write_handle`\n  // is empty.\n  optional BidiWriteHandle write_handle = 7;\n}\n\n// Request message for\n// [BidiWriteObject][google.storage.v2.Storage.BidiWriteObject].\nmessage BidiWriteObjectRequest {\n  // The first message of each stream should set one of the following.\n  oneof first_message {\n    // For resumable uploads. This should be the `upload_id` returned from a\n    // call to `StartResumableWriteResponse`.\n    string upload_id = 1;\n\n    // For non-resumable uploads. Describes the overall upload, including the\n    // destination bucket and object name, preconditions, etc.\n    WriteObjectSpec write_object_spec = 2;\n\n    // For appendable uploads. Describes the object to append to.\n    AppendObjectSpec append_object_spec = 11;\n  }\n\n  // Required. The offset from the beginning of the object at which the data\n  // should be written.\n  //\n  // In the first `WriteObjectRequest` of a `WriteObject()` action, it\n  // indicates the initial offset for the `Write()` call. The value must be\n  // equal to the `persisted_size` that a call to `QueryWriteStatus()` would\n  // return (0 if this is the first write to the object).\n  //\n  // On subsequent calls, this value must be no larger than the sum of the\n  // first `write_offset` and the sizes of all `data` chunks sent previously on\n  // this stream.\n  //\n  // An invalid value causes an error.\n  int64 write_offset = 3 [(google.api.field_behavior) = REQUIRED];\n\n  // A portion of the data for the object.\n  oneof data {\n    // The data to insert. If a crc32c checksum is provided that doesn't match\n    // the checksum computed by the service, the request fails.\n    ChecksummedData checksummed_data = 4;\n  }\n\n  // Optional. Checksums for the complete object. If the checksums computed by\n  // the service don't match the specified checksums the call fails. Might only\n  // be provided in the first request or the last request (with finish_write\n  // set).\n  ObjectChecksums object_checksums = 6 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. For each `BidiWriteObjectRequest` where `state_lookup` is `true`\n  // or the client closes the stream, the service sends a\n  // `BidiWriteObjectResponse` containing the current persisted size. The\n  // persisted size sent in responses covers all the bytes the server has\n  // persisted thus far and can be used to decide what data is safe for the\n  // client to drop. Note that the object's current size reported by the\n  // `BidiWriteObjectResponse` might lag behind the number of bytes written by\n  // the client. This field is ignored if `finish_write` is set to true.\n  bool state_lookup = 7 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Persists data written on the stream, up to and including the\n  // current message, to permanent storage. This option should be used sparingly\n  // as it might reduce performance. Ongoing writes are periodically persisted\n  // on the server even when `flush` is not set. This field is ignored if\n  // `finish_write` is set to true since there's no need to checkpoint or flush\n  // if this message completes the write.\n  bool flush = 8 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. If `true`, this indicates that the write is complete. Sending any\n  // `WriteObjectRequest`s subsequent to one in which `finish_write` is `true`\n  // causes an error.\n  // For a non-resumable write (where the `upload_id` was not set in the first\n  // message), it is an error not to set this field in the final message of the\n  // stream.\n  bool finish_write = 9 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 10\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Response message for BidiWriteObject.\nmessage BidiWriteObjectResponse {\n  // The response sets one of the following.\n  oneof write_status {\n    // The total number of bytes that have been processed for the given object\n    // from all `WriteObject` calls. Only set if the upload has not finalized.\n    int64 persisted_size = 1;\n\n    // A resource containing the metadata for the uploaded object. Only set if\n    // the upload has finalized.\n    Object resource = 2;\n  }\n\n  // An optional write handle that is returned periodically in response\n  // messages. Clients should save it for later use in establishing a new stream\n  // if a connection is interrupted.\n  optional BidiWriteHandle write_handle = 3;\n}\n\n// Request message for [ListObjects][google.storage.v2.Storage.ListObjects].\nmessage ListObjectsRequest {\n  // Required. Name of the bucket in which to look for objects.\n  string parent = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Optional. Maximum number of `items` plus `prefixes` to return\n  // in a single page of responses. As duplicate `prefixes` are\n  // omitted, fewer total results might be returned than requested. The service\n  // uses this parameter or 1,000 items, whichever is smaller.\n  int32 page_size = 2 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. A previously-returned page token representing part of the larger\n  // set of results to view.\n  string page_token = 3 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. If set, returns results in a directory-like mode. `items`\n  // contains only objects whose names, aside from the `prefix`, do not contain\n  // `delimiter`. Objects whose names, aside from the `prefix`, contain\n  // `delimiter` has their name, truncated after the `delimiter`, returned in\n  // `prefixes`. Duplicate `prefixes` are omitted.\n  string delimiter = 4 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. If true, objects that end in exactly one instance of `delimiter`\n  // has their metadata included in `items` in addition to\n  // `prefixes`.\n  bool include_trailing_delimiter = 5 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Filter results to objects whose names begin with this prefix.\n  string prefix = 6 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. If `true`, lists all versions of an object as distinct results.\n  bool versions = 7 [(google.api.field_behavior) = OPTIONAL];\n\n  // Mask specifying which fields to read from each result.\n  // If no mask is specified, defaults to all fields except `items.acl` and\n  // `items.owner`.\n  // `*` might be used to mean all fields.\n  optional google.protobuf.FieldMask read_mask = 8;\n\n  // Optional. Filter results to objects whose names are lexicographically equal\n  // to or after `lexicographic_start`. If `lexicographic_end` is also set, the\n  // objects listed have names between `lexicographic_start` (inclusive) and\n  // `lexicographic_end` (exclusive).\n  string lexicographic_start = 10 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Filter results to objects whose names are lexicographically\n  // before `lexicographic_end`. If `lexicographic_start` is also set, the\n  // objects listed have names between `lexicographic_start` (inclusive) and\n  // `lexicographic_end` (exclusive).\n  string lexicographic_end = 11 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. If true, only list all soft-deleted versions of the object.\n  // Soft delete policy is required to set this option.\n  bool soft_deleted = 12 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. If true, includes folders and managed folders (besides objects)\n  // in the returned `prefixes`. Requires `delimiter` to be set to '/'.\n  bool include_folders_as_prefixes = 13\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Filter results to objects and prefixes that match this glob\n  // pattern. See [List objects using\n  // glob](https://cloud.google.com/storage/docs/json_api/v1/objects/list#list-objects-and-prefixes-using-glob)\n  // for the full syntax.\n  string match_glob = 14 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. An expression used to filter the returned objects by the\n  // `context` field. For the full syntax, see [Filter objects by contexts\n  // syntax](https://cloud.google.com/storage/docs/listing-objects#filter-by-object-contexts-syntax).\n  // If a `delimiter` is set, the returned `prefixes` are exempt from this\n  // filter.\n  string filter = 15 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Request object for\n// [QueryWriteStatus][google.storage.v2.Storage.QueryWriteStatus].\nmessage QueryWriteStatusRequest {\n  // Required. The name of the resume token for the object whose write status is\n  // being requested.\n  string upload_id = 1 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 2\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Response object for\n// [QueryWriteStatus][google.storage.v2.Storage.QueryWriteStatus].\nmessage QueryWriteStatusResponse {\n  // The response sets one of the following.\n  oneof write_status {\n    // The total number of bytes that have been processed for the given object\n    // from all `WriteObject` calls. This is the correct value for the\n    // 'write_offset' field to use when resuming the `WriteObject` operation.\n    // Only set if the upload has not finalized.\n    int64 persisted_size = 1;\n\n    // A resource containing the metadata for the uploaded object. Only set if\n    // the upload has finalized.\n    Object resource = 2;\n  }\n}\n\n// Request message for [RewriteObject][google.storage.v2.Storage.RewriteObject].\n// If the source object is encrypted using a Customer-Supplied Encryption Key\n// the key information must be provided in the\n// `copy_source_encryption_algorithm`, `copy_source_encryption_key_bytes`, and\n// `copy_source_encryption_key_sha256_bytes` fields. If the destination object\n// should be encrypted the keying information should be provided in the\n// `encryption_algorithm`, `encryption_key_bytes`, and\n// `encryption_key_sha256_bytes` fields of the\n// `common_object_request_params.customer_encryption` field.\nmessage RewriteObjectRequest {\n  // Required. Immutable. The name of the destination object.\n  // See the\n  // [Naming Guidelines](https://cloud.google.com/storage/docs/objects#naming).\n  // Example: `test.txt`\n  // The `name` field by itself does not uniquely identify a Cloud Storage\n  // object. A Cloud Storage object is uniquely identified by the tuple of\n  // (bucket, object, generation).\n  string destination_name = 24 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.field_behavior) = IMMUTABLE\n  ];\n\n  // Required. Immutable. The name of the bucket containing the destination\n  // object.\n  string destination_bucket = 25 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.field_behavior) = IMMUTABLE,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Optional. The name of the Cloud KMS key that is used to encrypt the\n  // destination object. The Cloud KMS key must be located in same location as\n  // the object. If the parameter is not specified, the request uses the\n  // destination bucket's default encryption key, if any, or else the\n  // Google-managed encryption key.\n  string destination_kms_key = 27 [\n    (google.api.field_behavior) = OPTIONAL,\n    (google.api.resource_reference) = {\n      type: \"cloudkms.googleapis.com/CryptoKey\"\n    }\n  ];\n\n  // Optional. Properties of the destination, post-rewrite object.\n  // The `name`, `bucket` and `kms_key` fields must not be populated (these\n  // values are specified in the `destination_name`, `destination_bucket`, and\n  // `destination_kms_key` fields).\n  // If `destination` is present it is used to construct the destination\n  // object's metadata; otherwise the destination object's metadata is\n  // copied from the source object.\n  Object destination = 1 [(google.api.field_behavior) = OPTIONAL];\n\n  // Required. Name of the bucket in which to find the source object.\n  string source_bucket = 2 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Required. Name of the source object.\n  string source_object = 3 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. If present, selects a specific revision of the source object (as\n  // opposed to the latest version, the default).\n  int64 source_generation = 4 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Include this field (from the previous rewrite response) on each\n  // rewrite request after the first one, until the rewrite response 'done' flag\n  // is true. Calls that provide a rewriteToken can omit all other request\n  // fields, but if included those fields must match the values provided in the\n  // first rewrite request.\n  string rewrite_token = 5 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Apply a predefined set of access controls to the destination\n  // object. Valid values are `authenticatedRead`, `bucketOwnerFullControl`,\n  // `bucketOwnerRead`, `private`, `projectPrivate`, or `publicRead`.\n  string destination_predefined_acl = 28\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Makes the operation conditional on whether the object's current generation\n  // matches the given value. Setting to 0 makes the operation succeed only if\n  // there are no live versions of the object.\n  optional int64 if_generation_match = 7;\n\n  // Makes the operation conditional on whether the object's live generation\n  // does not match the given value. If no live object exists, the precondition\n  // fails. Setting to 0 makes the operation succeed only if there is a live\n  // version of the object.\n  optional int64 if_generation_not_match = 8;\n\n  // Makes the operation conditional on whether the destination object's current\n  // metageneration matches the given value.\n  optional int64 if_metageneration_match = 9;\n\n  // Makes the operation conditional on whether the destination object's current\n  // metageneration does not match the given value.\n  optional int64 if_metageneration_not_match = 10;\n\n  // Makes the operation conditional on whether the source object's live\n  // generation matches the given value.\n  optional int64 if_source_generation_match = 11;\n\n  // Makes the operation conditional on whether the source object's live\n  // generation does not match the given value.\n  optional int64 if_source_generation_not_match = 12;\n\n  // Makes the operation conditional on whether the source object's current\n  // metageneration matches the given value.\n  optional int64 if_source_metageneration_match = 13;\n\n  // Makes the operation conditional on whether the source object's current\n  // metageneration does not match the given value.\n  optional int64 if_source_metageneration_not_match = 14;\n\n  // Optional. The maximum number of bytes that are rewritten per rewrite\n  // request. Most callers shouldn't need to specify this parameter - it is\n  // primarily in place to support testing. If specified the value must be an\n  // integral multiple of 1 MiB (1048576). Also, this only applies to requests\n  // where the source and destination span locations and/or storage classes.\n  // Finally, this value must not change across rewrite calls else you'll get an\n  // error that the `rewriteToken` is invalid.\n  int64 max_bytes_rewritten_per_call = 15\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The algorithm used to encrypt the source object, if any. Used if\n  // the source object was encrypted with a Customer-Supplied Encryption Key.\n  string copy_source_encryption_algorithm = 16\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The raw bytes (not base64-encoded) AES-256 encryption key used to\n  // encrypt the source object, if it was encrypted with a Customer-Supplied\n  // Encryption Key.\n  bytes copy_source_encryption_key_bytes = 21\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The raw bytes (not base64-encoded) SHA256 hash of the encryption\n  // key used to encrypt the source object, if it was encrypted with a\n  // Customer-Supplied Encryption Key.\n  bytes copy_source_encryption_key_sha256_bytes = 22\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 19\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The checksums of the complete object. This is used to validate\n  // the destination object after rewriting.\n  ObjectChecksums object_checksums = 29\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// A rewrite response.\nmessage RewriteResponse {\n  // The total bytes written so far, which can be used to provide a waiting user\n  // with a progress indicator. This property is always present in the response.\n  int64 total_bytes_rewritten = 1;\n\n  // The total size of the object being copied in bytes. This property is always\n  // present in the response.\n  int64 object_size = 2;\n\n  // `true` if the copy is finished; otherwise, `false` if\n  // the copy is in progress. This property is always present in the response.\n  bool done = 3;\n\n  // A token to use in subsequent requests to continue copying data. This token\n  // is present in the response only when there is more data to copy.\n  string rewrite_token = 4;\n\n  // A resource containing the metadata for the copied-to object. This property\n  // is present in the response only when copying completes.\n  Object resource = 5;\n}\n\n// Request message for [MoveObject][google.storage.v2.Storage.MoveObject].\nmessage MoveObjectRequest {\n  // Required. Name of the bucket in which the object resides.\n  string bucket = 1 [\n    (google.api.field_behavior) = REQUIRED,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Required. Name of the source object.\n  string source_object = 2 [(google.api.field_behavior) = REQUIRED];\n\n  // Required. Name of the destination object.\n  string destination_object = 3 [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. Makes the operation conditional on whether the source object's\n  // current generation matches the given value. `if_source_generation_match`\n  // and `if_source_generation_not_match` conditions are mutually exclusive:\n  // it's an error for both of them to be set in the request.\n  optional int64 if_source_generation_match = 4\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Makes the operation conditional on whether the source object's\n  // current generation does not match the given value.\n  // `if_source_generation_match` and `if_source_generation_not_match`\n  // conditions are mutually exclusive: it's an error for both of them to be set\n  // in the request.\n  optional int64 if_source_generation_not_match = 5\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Makes the operation conditional on whether the source object's\n  // current metageneration matches the given value.\n  // `if_source_metageneration_match` and `if_source_metageneration_not_match`\n  // conditions are mutually exclusive: it's an error for both of them to be set\n  // in the request.\n  optional int64 if_source_metageneration_match = 6\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Makes the operation conditional on whether the source object's\n  // current metageneration does not match the given value.\n  // `if_source_metageneration_match` and `if_source_metageneration_not_match`\n  // conditions are mutually exclusive: it's an error for both of them to be set\n  // in the request.\n  optional int64 if_source_metageneration_not_match = 7\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Makes the operation conditional on whether the destination\n  // object's current generation matches the given value. Setting to 0 makes the\n  // operation succeed only if there are no live versions of the object.\n  // `if_generation_match` and `if_generation_not_match` conditions are mutually\n  // exclusive: it's an error for both of them to be set in the request.\n  optional int64 if_generation_match = 8\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Makes the operation conditional on whether the destination\n  // object's current generation does not match the given value. If no live\n  // object exists, the precondition fails. Setting to 0 makes the operation\n  // succeed only if there is a live version of the object.\n  // `if_generation_match` and `if_generation_not_match` conditions are mutually\n  // exclusive: it's an error for both of them to be set in the request.\n  optional int64 if_generation_not_match = 9\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Makes the operation conditional on whether the destination\n  // object's current metageneration matches the given value.\n  // `if_metageneration_match` and `if_metageneration_not_match` conditions are\n  // mutually exclusive: it's an error for both of them to be set in the\n  // request.\n  optional int64 if_metageneration_match = 10\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Makes the operation conditional on whether the destination\n  // object's current metageneration does not match the given value.\n  // `if_metageneration_match` and `if_metageneration_not_match` conditions are\n  // mutually exclusive: it's an error for both of them to be set in the\n  // request.\n  optional int64 if_metageneration_not_match = 11\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Request message for\n// [StartResumableWrite][google.storage.v2.Storage.StartResumableWrite].\nmessage StartResumableWriteRequest {\n  // Required. Contains the information necessary to start a resumable write.\n  WriteObjectSpec write_object_spec = 1\n      [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. A set of parameters common to Storage API requests related to an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 3\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The checksums of the complete object. This is used to validate\n  // the uploaded object. For each upload, `object_checksums` can be provided\n  // when initiating a resumable upload with`StartResumableWriteRequest` or when\n  // completing a write with `WriteObjectRequest` with\n  // `finish_write` set to `true`.\n  ObjectChecksums object_checksums = 5 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Response object for\n// [StartResumableWrite][google.storage.v2.Storage.StartResumableWrite].\nmessage StartResumableWriteResponse {\n  // A unique identifier for the initiated resumable write operation.\n  // As the ID grants write access, you should keep it confidential during\n  // the upload to prevent unauthorized access and data tampering during your\n  // upload. This ID should be included in subsequent `WriteObject` requests to\n  // upload the object data.\n  string upload_id = 1;\n}\n\n// Request message for [UpdateObject][google.storage.v2.Storage.UpdateObject].\nmessage UpdateObjectRequest {\n  // Required. The object to update.\n  // The object's bucket and name fields are used to identify the object to\n  // update. If present, the object's generation field selects a specific\n  // revision of this object whose metadata should be updated. Otherwise,\n  // assumes the live version of the object.\n  Object object = 1 [(google.api.field_behavior) = REQUIRED];\n\n  // Makes the operation conditional on whether the object's current generation\n  // matches the given value. Setting to 0 makes the operation succeed only if\n  // there are no live versions of the object.\n  optional int64 if_generation_match = 2;\n\n  // Makes the operation conditional on whether the object's live generation\n  // does not match the given value. If no live object exists, the precondition\n  // fails. Setting to 0 makes the operation succeed only if there is a live\n  // version of the object.\n  optional int64 if_generation_not_match = 3;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration matches the given value.\n  optional int64 if_metageneration_match = 4;\n\n  // Makes the operation conditional on whether the object's current\n  // metageneration does not match the given value.\n  optional int64 if_metageneration_not_match = 5;\n\n  // Optional. Apply a predefined set of access controls to this object.\n  // Valid values are \"authenticatedRead\", \"bucketOwnerFullControl\",\n  // \"bucketOwnerRead\", \"private\", \"projectPrivate\", or \"publicRead\".\n  string predefined_acl = 10 [(google.api.field_behavior) = OPTIONAL];\n\n  // Required. List of fields to be updated.\n  //\n  // To specify ALL fields, equivalent to the JSON API's \"update\" function,\n  // specify a single field with the value `*`. Note: not recommended. If a new\n  // field is introduced at a later time, an older client updating with the `*`\n  // might accidentally reset the new field's value.\n  //\n  // Not specifying any fields is an error.\n  google.protobuf.FieldMask update_mask = 7\n      [(google.api.field_behavior) = REQUIRED];\n\n  // Optional. A set of parameters common to Storage API requests concerning an\n  // object.\n  CommonObjectRequestParams common_object_request_params = 8\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Overrides the unlocked retention config on the object.\n  bool override_unlocked_retention = 11\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Parameters that can be passed to any object request.\nmessage CommonObjectRequestParams {\n  // Optional. Encryption algorithm used with the Customer-Supplied Encryption\n  // Keys feature.\n  string encryption_algorithm = 1 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Encryption key used with the Customer-Supplied Encryption Keys\n  // feature. In raw bytes format (not base64-encoded).\n  bytes encryption_key_bytes = 4 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. SHA256 hash of encryption key used with the Customer-supplied\n  // encryption keys feature.\n  bytes encryption_key_sha256_bytes = 5\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Shared constants.\nmessage ServiceConstants {\n  // A collection of constant values meaningful to the Storage API.\n  enum Values {\n    option allow_alias = true;\n\n    // Unused. Proto3 requires first enum to be 0.\n    VALUES_UNSPECIFIED = 0;\n\n    // The maximum size chunk that can be returned in a single\n    // `ReadRequest`.\n    // 2 MiB.\n    MAX_READ_CHUNK_BYTES = 2097152;\n\n    // The maximum size chunk that can be sent in a single WriteObjectRequest.\n    // 2 MiB.\n    MAX_WRITE_CHUNK_BYTES = 2097152;\n\n    // The maximum size of an object in MB - whether written in a single stream\n    // or composed from multiple other objects.\n    // 5 TiB.\n    MAX_OBJECT_SIZE_MB = 5242880;\n\n    // The maximum length field name that can be sent in a single\n    // custom metadata field.\n    // 1 KiB.\n    MAX_CUSTOM_METADATA_FIELD_NAME_BYTES = 1024;\n\n    // The maximum length field value that can be sent in a single\n    // custom_metadata field.\n    // 4 KiB.\n    MAX_CUSTOM_METADATA_FIELD_VALUE_BYTES = 4096;\n\n    // The maximum total bytes that can be populated into all field names and\n    // values of the custom_metadata for one object.\n    // 8 KiB.\n    MAX_CUSTOM_METADATA_TOTAL_SIZE_BYTES = 8192;\n\n    // The maximum total bytes that can be populated into all bucket metadata\n    // fields.\n    // 20 KiB.\n    MAX_BUCKET_METADATA_TOTAL_SIZE_BYTES = 20480;\n\n    // The maximum number of NotificationConfigs that can be registered\n    // for a given bucket.\n    MAX_NOTIFICATION_CONFIGS_PER_BUCKET = 100;\n\n    // The maximum number of LifecycleRules that can be registered for a given\n    // bucket.\n    MAX_LIFECYCLE_RULES_PER_BUCKET = 100;\n\n    // The maximum number of custom attributes per NotificationConfigs.\n    MAX_NOTIFICATION_CUSTOM_ATTRIBUTES = 5;\n\n    // The maximum length of a custom attribute key included in\n    // NotificationConfig.\n    MAX_NOTIFICATION_CUSTOM_ATTRIBUTE_KEY_LENGTH = 256;\n\n    // The maximum length of a custom attribute value included in a\n    // NotificationConfig.\n    MAX_NOTIFICATION_CUSTOM_ATTRIBUTE_VALUE_LENGTH = 1024;\n\n    // The maximum number of key/value entries per bucket label.\n    MAX_LABELS_ENTRIES_COUNT = 64;\n\n    // The maximum character length of the key or value in a bucket\n    // label map.\n    MAX_LABELS_KEY_VALUE_LENGTH = 63;\n\n    // The maximum byte size of the key or value in a bucket label\n    // map.\n    MAX_LABELS_KEY_VALUE_BYTES = 128;\n\n    // The maximum number of object IDs that can be included in a\n    // DeleteObjectsRequest.\n    MAX_OBJECT_IDS_PER_DELETE_OBJECTS_REQUEST = 1000;\n\n    // The maximum number of days for which a token returned by the\n    // GetListObjectsSplitPoints RPC is valid.\n    SPLIT_TOKEN_MAX_VALID_DAYS = 14;\n  }\n}\n\n// A bucket.\nmessage Bucket {\n  option (google.api.resource) = {\n    type: \"storage.googleapis.com/Bucket\"\n    pattern: \"projects/{project}/buckets/{bucket}\"\n    plural: \"buckets\"\n    singular: \"bucket\"\n  };\n\n  // Billing properties of a bucket.\n  message Billing {\n    // Optional. When set to true, Requester Pays is enabled for this bucket.\n    bool requester_pays = 1 [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Cross-Origin Response sharing (CORS) properties for a bucket.\n  // For more on Cloud Storage and CORS, see\n  // https://cloud.google.com/storage/docs/cross-origin.\n  // For more on CORS in general, see https://tools.ietf.org/html/rfc6454.\n  message Cors {\n    // Optional. The list of origins eligible to receive CORS response headers.\n    // For more information about origins, see [RFC\n    // 6454](https://tools.ietf.org/html/rfc6454). Note: `*` is permitted in the\n    // list of origins, and means `any origin`.\n    repeated string origin = 1 [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. The list of HTTP methods on which to include CORS response\n    // headers,\n    // (`GET`, `OPTIONS`, `POST`, etc) Note: `*` is permitted in the list of\n    // methods, and means \"any method\".\n    repeated string method = 2 [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. The list of HTTP headers other than the [simple response\n    // headers](https://www.w3.org/TR/cors/#simple-response-headers) to give\n    // permission for the user-agent to share across domains.\n    repeated string response_header = 3\n        [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. The value, in seconds, to return in the [Access-Control-Max-Age\n    // header](https://www.w3.org/TR/cors/#access-control-max-age-response-header)\n    // used in preflight responses.\n    int32 max_age_seconds = 4 [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Encryption properties of a bucket.\n  message Encryption {\n    // Google Managed Encryption (GMEK) enforcement config of a bucket.\n    message GoogleManagedEncryptionEnforcementConfig {\n      // Restriction mode for google-managed encryption for new objects within\n      // the bucket. Valid values are: `NotRestricted` and `FullyRestricted`.\n      // If `NotRestricted` or unset, creation of new objects with\n      // google-managed encryption is allowed.\n      // If `FullyRestricted`, new objects can't be created using google-managed\n      // encryption.\n      optional string restriction_mode = 3;\n\n      // Time from which the config was effective. This is service-provided.\n      optional google.protobuf.Timestamp effective_time = 2;\n    }\n\n    // Customer Managed Encryption (CMEK) enforcement config of a bucket.\n    message CustomerManagedEncryptionEnforcementConfig {\n      // Restriction mode for customer-managed encryption for new objects within\n      // the bucket. Valid values are: `NotRestricted` and `FullyRestricted`.\n      // If `NotRestricted` or unset, creation of new objects with\n      // customer-managed encryption is allowed.\n      // If `FullyRestricted`, new objects can't be created using\n      // customer-managed encryption.\n      optional string restriction_mode = 3;\n\n      // Time from which the config was effective. This is service-provided.\n      optional google.protobuf.Timestamp effective_time = 2;\n    }\n\n    // Customer Supplied Encryption (CSEK) enforcement config of a bucket.\n    message CustomerSuppliedEncryptionEnforcementConfig {\n      // Restriction mode for customer-supplied encryption for new objects\n      // within the bucket. Valid values are: `NotRestricted` and\n      // `FullyRestricted`.\n      // If `NotRestricted` or unset, creation of new objects with\n      // customer-supplied encryption is allowed.\n      // If `FullyRestricted`, new objects can't be created using\n      // customer-supplied encryption.\n      optional string restriction_mode = 3;\n\n      // Time from which the config was effective. This is service-provided.\n      optional google.protobuf.Timestamp effective_time = 2;\n    }\n\n    // Optional. The name of the Cloud KMS key that is used to encrypt objects\n    // inserted into this bucket, if no encryption method is specified.\n    string default_kms_key = 1 [\n      (google.api.field_behavior) = OPTIONAL,\n      (google.api.resource_reference) = {\n        type: \"cloudkms.googleapis.com/CryptoKey\"\n      }\n    ];\n\n    // Optional. If omitted, then new objects with GMEK encryption-type is\n    // allowed. If set, then new objects created in this bucket must comply with\n    // enforcement config. Changing this has no effect on existing objects; it\n    // applies to new objects only.\n    optional GoogleManagedEncryptionEnforcementConfig\n        google_managed_encryption_enforcement_config = 2\n        [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. If omitted, then new objects with CMEK encryption-type is\n    // allowed. If set, then new objects created in this bucket must comply with\n    // enforcement config. Changing this has no effect on existing objects; it\n    // applies to new objects only.\n    optional CustomerManagedEncryptionEnforcementConfig\n        customer_managed_encryption_enforcement_config = 3\n        [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. If omitted, then new objects with CSEK encryption-type is\n    // allowed. If set, then new objects created in this bucket must comply with\n    // enforcement config. Changing this has no effect on existing objects; it\n    // applies to new objects only.\n    optional CustomerSuppliedEncryptionEnforcementConfig\n        customer_supplied_encryption_enforcement_config = 4\n        [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Bucket restriction options.\n  message IamConfig {\n    // Settings for Uniform Bucket level access.\n    // See https://cloud.google.com/storage/docs/uniform-bucket-level-access.\n    message UniformBucketLevelAccess {\n      // Optional. If set, access checks only use bucket-level IAM policies or\n      // above.\n      bool enabled = 1 [(google.api.field_behavior) = OPTIONAL];\n\n      // Optional. The deadline time for changing\n      // `iam_config.uniform_bucket_level_access.enabled` from `true` to\n      // `false`. Mutable until the specified deadline is reached, but not\n      // afterward.\n      google.protobuf.Timestamp lock_time = 2\n          [(google.api.field_behavior) = OPTIONAL];\n    }\n\n    // Optional. Bucket restriction options currently enforced on the bucket.\n    UniformBucketLevelAccess uniform_bucket_level_access = 1\n        [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. Whether IAM enforces public access prevention. Valid values are\n    // `enforced` or `inherited`.\n    string public_access_prevention = 3\n        [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Lifecycle properties of a bucket.\n  // For more information, see [Object Lifecycle\n  // Management](https://cloud.google.com/storage/docs/lifecycle).\n  message Lifecycle {\n    // A lifecycle Rule, combining an action to take on an object and a\n    // condition which triggers that action.\n    message Rule {\n      // An action to take on an object.\n      message Action {\n        // Optional. Type of the action. Currently, only `Delete`,\n        // `SetStorageClass`, and `AbortIncompleteMultipartUpload` are\n        // supported.\n        string type = 1 [(google.api.field_behavior) = OPTIONAL];\n\n        // Optional. Target storage class. Required iff the type of the action\n        // is SetStorageClass.\n        string storage_class = 2 [(google.api.field_behavior) = OPTIONAL];\n      }\n\n      // A condition of an object which triggers some action.\n      message Condition {\n        // Age of an object (in days). This condition is satisfied when an\n        // object reaches the specified age.\n        // A value of 0 indicates that all objects immediately match this\n        // condition.\n        optional int32 age_days = 1;\n\n        // Optional. This condition is satisfied when an object is created\n        // before midnight of the specified date in UTC.\n        google.type.Date created_before = 2\n            [(google.api.field_behavior) = OPTIONAL];\n\n        // Relevant only for versioned objects. If the value is\n        // `true`, this condition matches live objects; if the value\n        // is `false`, it matches archived objects.\n        optional bool is_live = 3;\n\n        // Relevant only for versioned objects. If the value is N, this\n        // condition is satisfied when there are at least N versions (including\n        // the live version) newer than this version of the object.\n        optional int32 num_newer_versions = 4;\n\n        // Optional. Objects having any of the storage classes specified by this\n        // condition are matched. Values include `MULTI_REGIONAL`, `REGIONAL`,\n        // `NEARLINE`, `COLDLINE`, `STANDARD`, and\n        // `DURABLE_REDUCED_AVAILABILITY`.\n        repeated string matches_storage_class = 5\n            [(google.api.field_behavior) = OPTIONAL];\n\n        // Number of days that have elapsed since the custom timestamp set on an\n        // object.\n        // The value of the field must be a nonnegative integer.\n        optional int32 days_since_custom_time = 7;\n\n        // Optional. An object matches this condition if the custom timestamp\n        // set on the object is before the specified date in UTC.\n        google.type.Date custom_time_before = 8\n            [(google.api.field_behavior) = OPTIONAL];\n\n        // This condition is relevant only for versioned objects. An object\n        // version satisfies this condition only if these many days have been\n        // passed since it became noncurrent. The value of the field must be a\n        // nonnegative integer. If it's zero, the object version becomes\n        // eligible for Lifecycle action as soon as it becomes noncurrent.\n        optional int32 days_since_noncurrent_time = 9;\n\n        // Optional. This condition is relevant only for versioned objects. An\n        // object version satisfies this condition only if it became noncurrent\n        // before the specified date in UTC.\n        google.type.Date noncurrent_time_before = 10\n            [(google.api.field_behavior) = OPTIONAL];\n\n        // Optional. List of object name prefixes. If any prefix exactly matches\n        // the beginning of the object name, the condition evaluates to true.\n        repeated string matches_prefix = 11\n            [(google.api.field_behavior) = OPTIONAL];\n\n        // Optional. List of object name suffixes. If any suffix exactly matches\n        // the end of the object name, the condition evaluates to true.\n        repeated string matches_suffix = 12\n            [(google.api.field_behavior) = OPTIONAL];\n      }\n\n      // Optional. The action to take.\n      Action action = 1 [(google.api.field_behavior) = OPTIONAL];\n\n      // Optional. The condition under which the action is taken.\n      Condition condition = 2 [(google.api.field_behavior) = OPTIONAL];\n    }\n\n    // Optional. A lifecycle management rule, which is made of an action to take\n    // and the condition under which the action is taken.\n    repeated Rule rule = 1 [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Logging-related properties of a bucket.\n  message Logging {\n    // Optional. The destination bucket where the current bucket's logs should\n    // be placed, using path format (like `projects/123456/buckets/foo`).\n    string log_bucket = 1 [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. A prefix for log object names.\n    string log_object_prefix = 2 [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Object Retention related properties of a bucket.\n  message ObjectRetention {\n    // Optional. Output only. If true, object retention is enabled for the\n    // bucket.\n    bool enabled = 1 [\n      (google.api.field_behavior) = OPTIONAL,\n      (google.api.field_behavior) = OUTPUT_ONLY\n    ];\n  }\n\n  // Retention policy properties of a bucket.\n  message RetentionPolicy {\n    // Optional. Server-determined value that indicates the time from which\n    // policy was enforced and effective.\n    google.protobuf.Timestamp effective_time = 1\n        [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. Once locked, an object retention policy cannot be modified.\n    bool is_locked = 2 [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. The duration that objects need to be retained. Retention\n    // duration must be greater than zero and less than 100 years. Note that\n    // enforcement of retention periods less than a day is not guaranteed. Such\n    // periods should only be used for testing purposes. Any `nanos` value\n    // specified is rounded down to the nearest second.\n    google.protobuf.Duration retention_duration = 4\n        [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Soft delete policy properties of a bucket.\n  message SoftDeletePolicy {\n    // The period of time that soft-deleted objects in the bucket must be\n    // retained and cannot be permanently deleted. The duration must be greater\n    // than or equal to 7 days and less than 1 year.\n    optional google.protobuf.Duration retention_duration = 1;\n\n    // Time from which the policy was effective. This is service-provided.\n    optional google.protobuf.Timestamp effective_time = 2;\n  }\n\n  // Properties of a bucket related to versioning.\n  // For more information about Cloud Storage versioning, see [Object\n  // versioning](https://cloud.google.com/storage/docs/object-versioning).\n  message Versioning {\n    // Optional. While set to true, versioning is fully enabled for this bucket.\n    bool enabled = 1 [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Properties of a bucket related to accessing the contents as a static\n  // website. For details, see [hosting a static website using Cloud\n  // Storage](https://cloud.google.com/storage/docs/hosting-static-website).\n  message Website {\n    // Optional. If the requested object path is missing, the service ensures\n    // the path has a trailing '/', append this suffix, and attempt to retrieve\n    // the resulting object. This allows the creation of `index.html` objects to\n    // represent directory pages.\n    string main_page_suffix = 1 [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. If the requested object path is missing, and any\n    // `mainPageSuffix` object is missing, if applicable, the service\n    // returns the named object from this bucket as the content for a\n    // [404 Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)\n    // result.\n    string not_found_page = 2 [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Configuration for [configurable dual-\n  // regions](https://cloud.google.com/storage/docs/locations#configurable). It\n  // should specify precisely two eligible regions within the same multi-region.\n  // For details, see\n  // [locations](https://cloud.google.com/storage/docs/locations).\n  message CustomPlacementConfig {\n    // Optional. List of locations to use for data placement.\n    repeated string data_locations = 1 [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Configuration for a bucket's Autoclass feature.\n  message Autoclass {\n    // Optional. Enables Autoclass.\n    bool enabled = 1 [(google.api.field_behavior) = OPTIONAL];\n\n    // Output only. Latest instant at which the `enabled` field was set to true\n    // after being disabled/unconfigured or set to false after being enabled. If\n    // Autoclass is enabled when the bucket is created, the value of the\n    // `toggle_time` field is set to the bucket `create_time`.\n    google.protobuf.Timestamp toggle_time = 2\n        [(google.api.field_behavior) = OUTPUT_ONLY];\n\n    // An object in an Autoclass bucket eventually cools down to the\n    // terminal storage class if there is no access to the object.\n    // The only valid values are NEARLINE and ARCHIVE.\n    optional string terminal_storage_class = 3;\n\n    // Output only. Latest instant at which the autoclass terminal storage class\n    // was updated.\n    optional google.protobuf.Timestamp terminal_storage_class_update_time = 4\n        [(google.api.field_behavior) = OUTPUT_ONLY];\n  }\n\n  // The [bucket IP\n  // filtering](https://cloud.google.com/storage/docs/ip-filtering-overview)\n  // configuration. Specifies the network sources that can access the bucket, as\n  // well as its underlying objects.\n  message IpFilter {\n    // The public network IP address ranges that can access the bucket and its\n    // data.\n    message PublicNetworkSource {\n      // Optional. The list of IPv4 and IPv6 cidr blocks that are allowed to\n      // operate or access the bucket and its underlying objects.\n      repeated string allowed_ip_cidr_ranges = 1\n          [(google.api.field_behavior) = OPTIONAL];\n    }\n\n    // The list of VPC networks that can access the bucket.\n    message VpcNetworkSource {\n      // Name of the network.\n      //\n      // Format: `projects/PROJECT_ID/global/networks/NETWORK_NAME`\n      optional string network = 1;\n\n      // Optional. The list of public or private IPv4 and IPv6 CIDR ranges that\n      // can access the bucket. In the CIDR IP address block, the specified IP\n      // address must be properly truncated, meaning all the host bits must be\n      // zero or else the input is considered malformed. For example,\n      // `192.0.2.0/24` is accepted but `192.0.2.1/24` is not. Similarly, for\n      // IPv6, `2001:db8::/32` is accepted whereas `2001:db8::1/32` is not.\n      repeated string allowed_ip_cidr_ranges = 2\n          [(google.api.field_behavior) = OPTIONAL];\n    }\n\n    // The state of the IP filter configuration. Valid values are `Enabled` and\n    // `Disabled`. When set to `Enabled`, IP filtering rules are applied to a\n    // bucket and all incoming requests to the bucket are evaluated against\n    // these rules. When set to `Disabled`, IP filtering rules are not applied\n    // to a bucket.\n    optional string mode = 1;\n\n    // Public IPs allowed to operate or access the bucket.\n    optional PublicNetworkSource public_network_source = 2;\n\n    // Optional. The list of network sources that are allowed to access\n    // operations on the bucket or the underlying objects.\n    repeated VpcNetworkSource vpc_network_sources = 3\n        [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. Whether or not to allow VPCs from orgs different than the\n    // bucket's parent org to access the bucket. When set to true, validations\n    // on the existence of the VPCs won't be performed. If set to false, each\n    // VPC network source is checked to belong to the same org as the bucket as\n    // well as validated for existence.\n    bool allow_cross_org_vpcs = 4 [(google.api.field_behavior) = OPTIONAL];\n\n    // Whether or not to allow all P4SA access to the bucket. When set to true,\n    // IP filter config validation doesn't apply.\n    optional bool allow_all_service_agent_access = 5;\n  }\n\n  // Configuration for a bucket's hierarchical namespace feature.\n  message HierarchicalNamespace {\n    // Optional. Enables the hierarchical namespace feature.\n    bool enabled = 1 [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Identifier. The name of the bucket.\n  // Format: `projects/{project}/buckets/{bucket}`\n  string name = 1 [(google.api.field_behavior) = IDENTIFIER];\n\n  // Output only. The user-chosen part of the bucket name. The `{bucket}`\n  // portion of the `name` field. For globally unique buckets, this is equal to\n  // the `bucket name` of other Cloud Storage APIs. Example: `pub`.\n  string bucket_id = 2 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // The etag of the bucket.\n  // If included in the metadata of an `UpdateBucketRequest`, the operation is\n  // only performed if the `etag` matches that of the bucket.\n  string etag = 29;\n\n  // Immutable. The project which owns this bucket, in the format of\n  // `projects/{projectIdentifier}`.\n  // `{projectIdentifier}` can be the project ID or project number.\n  // Output values are always in the project number format.\n  string project = 3 [\n    (google.api.field_behavior) = IMMUTABLE,\n    (google.api.resource_reference) = {\n      type: \"cloudresourcemanager.googleapis.com/Project\"\n    }\n  ];\n\n  // Output only. The metadata generation of this bucket.\n  int64 metageneration = 4 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Immutable. The location of the bucket. Object data for objects in the\n  // bucket resides in physical storage within this region.  Defaults to `US`.\n  // Attempting to update this field after the bucket is created results in an\n  // error.\n  string location = 5 [(google.api.field_behavior) = IMMUTABLE];\n\n  // Output only. The location type of the bucket (region, dual-region,\n  // multi-region, etc).\n  string location_type = 6 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. The bucket's default storage class, used whenever no storageClass\n  // is specified for a newly-created object. This defines how objects in the\n  // bucket are stored and determines the SLA and the cost of storage.\n  // If this value is not specified when the bucket is created, it defaults\n  // to `STANDARD`. For more information, see [Storage\n  // classes](https://developers.google.com/storage/docs/storage-classes).\n  string storage_class = 7 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The recovery point objective for cross-region replication of the\n  // bucket. Applicable only for dual- and multi-region buckets. `DEFAULT` uses\n  // default replication. `ASYNC_TURBO` enables turbo replication, valid for\n  // dual-region buckets only. If rpo is not specified when the bucket is\n  // created, it defaults to `DEFAULT`. For more information, see [Turbo\n  // replication](https://cloud.google.com/storage/docs/availability-durability#turbo-replication).\n  string rpo = 27 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Access controls on the bucket.\n  // If `iam_config.uniform_bucket_level_access` is enabled on this bucket,\n  // requests to set, read, or modify acl is an error.\n  repeated BucketAccessControl acl = 8 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Default access controls to apply to new objects when no ACL is\n  // provided. If `iam_config.uniform_bucket_level_access` is enabled on this\n  // bucket, requests to set, read, or modify acl is an error.\n  repeated ObjectAccessControl default_object_acl = 9\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's lifecycle configuration. See [Lifecycle\n  // Management](https://developers.google.com/storage/docs/lifecycle) for more\n  // information.\n  Lifecycle lifecycle = 10 [(google.api.field_behavior) = OPTIONAL];\n\n  // Output only. The creation time of the bucket.\n  google.protobuf.Timestamp create_time = 11\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. The bucket's [CORS](https://www.w3.org/TR/cors/)\n  // configuration.\n  repeated Cors cors = 12 [(google.api.field_behavior) = OPTIONAL];\n\n  // Output only. The modification time of the bucket.\n  google.protobuf.Timestamp update_time = 13\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. The default value for event-based hold on newly created objects\n  // in this bucket.  Event-based hold is a way to retain objects indefinitely\n  // until an event occurs, signified by the hold's release. After being\n  // released, such objects are subject to bucket-level retention (if any).  One\n  // sample use case of this flag is for banks to hold loan documents for at\n  // least 3 years after loan is paid in full. Here, bucket-level retention is 3\n  // years and the event is loan being paid in full. In this example, these\n  // objects are held intact for any number of years until the event has\n  // occurred (event-based hold on the object is released) and then 3 more years\n  // after that. That means retention duration of the objects begins from the\n  // moment event-based hold transitioned from true to false.  Objects under\n  // event-based hold cannot be deleted, overwritten or archived until the hold\n  // is removed.\n  bool default_event_based_hold = 14 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. User-provided labels, in key/value pairs.\n  map<string, string> labels = 15 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's website config, controlling how the service behaves\n  // when accessing bucket contents as a web site. See the [Static website\n  // examples](https://cloud.google.com/storage/docs/static-website) for more\n  // information.\n  Website website = 16 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's versioning configuration.\n  Versioning versioning = 17 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's logging config, which defines the destination bucket\n  // and name prefix (if any) for the current bucket's logs.\n  Logging logging = 18 [(google.api.field_behavior) = OPTIONAL];\n\n  // Output only. The owner of the bucket. This is always the project team's\n  // owner group.\n  Owner owner = 19 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. Encryption config for a bucket.\n  Encryption encryption = 20 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's billing configuration.\n  Billing billing = 21 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's retention policy. The retention policy enforces a\n  // minimum retention time for all objects contained in the bucket, based on\n  // their creation time. Any attempt to overwrite or delete objects younger\n  // than the retention period results in a `PERMISSION_DENIED` error.  An\n  // unlocked retention policy can be modified or removed from the bucket via a\n  // storage.buckets.update operation. A locked retention policy cannot be\n  // removed or shortened in duration for the lifetime of the bucket.\n  // Attempting to remove or decrease period of a locked retention policy\n  // results in a `PERMISSION_DENIED` error.\n  RetentionPolicy retention_policy = 22\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's IAM configuration.\n  IamConfig iam_config = 23 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Reserved for future use.\n  bool satisfies_pzs = 25 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Configuration that, if present, specifies the data placement for\n  // a [configurable\n  // dual-region](https://cloud.google.com/storage/docs/locations#location-dr).\n  CustomPlacementConfig custom_placement_config = 26\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's Autoclass configuration. If there is no\n  // configuration, the Autoclass feature is disabled and has no effect on the\n  // bucket.\n  Autoclass autoclass = 28 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's hierarchical namespace configuration. If there is no\n  // configuration, the hierarchical namespace feature is disabled and has\n  // no effect on the bucket.\n  HierarchicalNamespace hierarchical_namespace = 32\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's soft delete policy. The soft delete policy prevents\n  // soft-deleted objects from being permanently deleted.\n  SoftDeletePolicy soft_delete_policy = 31\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's object retention configuration. Must be enabled\n  // before objects in the bucket might have retention configured.\n  ObjectRetention object_retention = 33\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The bucket's IP filter configuration.\n  optional IpFilter ip_filter = 38 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// An access-control entry.\nmessage BucketAccessControl {\n  // Optional. The access permission for the entity.\n  string role = 1 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The ID of the access-control entry.\n  string id = 2 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The entity holding the permission, in one of the following forms:\n  // * `user-{userid}`\n  // * `user-{email}`\n  // * `group-{groupid}`\n  // * `group-{email}`\n  // * `domain-{domain}`\n  // * `project-{team}-{projectnumber}`\n  // * `project-{team}-{projectid}`\n  // * `allUsers`\n  // * `allAuthenticatedUsers`\n  // Examples:\n  // * The user `liz@example.com` would be `user-liz@example.com`.\n  // * The group `example@googlegroups.com` would be\n  // `group-example@googlegroups.com`\n  // * All members of the Google Apps for Business domain `example.com` would be\n  // `domain-example.com`\n  // For project entities, `project-{team}-{projectnumber}` format is\n  // returned on response.\n  string entity = 3 [(google.api.field_behavior) = OPTIONAL];\n\n  // Output only. The alternative entity format, if exists. For project\n  // entities, `project-{team}-{projectid}` format is returned in the response.\n  string entity_alt = 9 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. The ID for the entity, if any.\n  string entity_id = 4 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The `etag` of the `BucketAccessControl`.\n  // If included in the metadata of an update or delete request message, the\n  // operation operation is only performed if the etag matches that of the\n  // bucket's `BucketAccessControl`.\n  string etag = 8 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The email address associated with the entity, if any.\n  string email = 5 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The domain associated with the entity, if any.\n  string domain = 6 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The project team associated with the entity, if any.\n  ProjectTeam project_team = 7 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Message used to convey content being read or written, along with an optional\n// checksum.\nmessage ChecksummedData {\n  // Optional. The data.\n  bytes content = 1 [ctype = CORD, (google.api.field_behavior) = OPTIONAL];\n\n  // If set, the CRC32C digest of the content field.\n  optional fixed32 crc32c = 2;\n}\n\n// Message used for storing full (not subrange) object checksums.\nmessage ObjectChecksums {\n  // CRC32C digest of the object data. Computed by the Cloud Storage service for\n  // all written objects.\n  // If set in a WriteObjectRequest, service validates that the stored\n  // object matches this checksum.\n  optional fixed32 crc32c = 1;\n\n  // Optional. 128 bit MD5 hash of the object data. For more information about\n  // using the MD5 hash, see [Data validation and change\n  // detection](https://cloud.google.com/storage/docs/data-validation). Not all\n  // objects provide an MD5 hash. For example, composite objects provide only\n  // crc32c hashes. This value is equivalent to running `cat object.txt |\n  // openssl md5 -binary`\n  bytes md5_hash = 2 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// The payload of a single user-defined object context.\nmessage ObjectCustomContextPayload {\n  // Required. The value of the object context.\n  string value = 1 [(google.api.field_behavior) = REQUIRED];\n\n  // Output only. The time at which the object context was created.\n  google.protobuf.Timestamp create_time = 2\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Output only. The time at which the object context was last updated.\n  google.protobuf.Timestamp update_time = 3\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n}\n\n// All contexts of an object grouped by type.\nmessage ObjectContexts {\n  // Optional. User-defined object contexts.\n  // The maximum key or value size is `256` characters.\n  // The maximum number of entries is `50`.\n  // The maximum total serialized size of all entries is `25KiB`.\n  map<string, ObjectCustomContextPayload> custom = 1\n      [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Describes the customer-supplied encryption key mechanism used to store an\n// object's data at rest.\nmessage CustomerEncryption {\n  // Optional. The encryption algorithm.\n  string encryption_algorithm = 1 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. SHA256 hash value of the encryption key.\n  // In raw bytes format (not base64-encoded).\n  bytes key_sha256_bytes = 3 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// An object.\nmessage Object {\n  // Specifies retention parameters of the object. Objects under retention\n  // cannot be deleted or overwritten until their retention expires.\n  message Retention {\n    // Retention mode values.\n    enum Mode {\n      // No specified mode. Object is not under retention.\n      MODE_UNSPECIFIED = 0;\n\n      // Retention period might be decreased or increased.\n      // The Retention configuration might be removed.\n      // The mode might be changed to locked.\n      UNLOCKED = 1;\n\n      // Retention period might be increased.\n      // The Retention configuration cannot be removed.\n      // The mode cannot be changed.\n      LOCKED = 2;\n    }\n\n    // Optional. The mode of the Retention.\n    Mode mode = 1 [(google.api.field_behavior) = OPTIONAL];\n\n    // Optional. The timestamp that the object needs to be retained until.\n    // Value cannot be set in the past or more than 100 years in the future.\n    google.protobuf.Timestamp retain_until_time = 2\n        [(google.api.field_behavior) = OPTIONAL];\n  }\n\n  // Immutable. The name of this object. Nearly any sequence of unicode\n  // characters is valid. See\n  // [Guidelines](https://cloud.google.com/storage/docs/objects#naming).\n  // Example: `test.txt`\n  // The `name` field by itself does not uniquely identify a Cloud Storage\n  // object. A Cloud Storage object is uniquely identified by the tuple of\n  // (bucket, object, generation).\n  string name = 1 [(google.api.field_behavior) = IMMUTABLE];\n\n  // Immutable. The name of the bucket containing this object.\n  string bucket = 2 [\n    (google.api.field_behavior) = IMMUTABLE,\n    (google.api.resource_reference) = { type: \"storage.googleapis.com/Bucket\" }\n  ];\n\n  // Optional. The `etag` of an object.\n  // If included in the metadata of an update or delete request message, the\n  // operation is only performed if the etag matches that of the live\n  // object.\n  string etag = 27 [(google.api.field_behavior) = OPTIONAL];\n\n  // Immutable. The content generation of this object. Used for object\n  // versioning.\n  int64 generation = 3 [(google.api.field_behavior) = IMMUTABLE];\n\n  // Output only. Restore token used to differentiate deleted objects with the\n  // same name and generation. This field is output only, and only set for\n  // deleted objects in HNS buckets.\n  optional string restore_token = 35\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Output only. The version of the metadata for this generation of this\n  // object. Used for preconditions and for detecting changes in metadata. A\n  // metageneration number is only meaningful in the context of a particular\n  // generation of a particular object.\n  int64 metageneration = 4 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. Storage class of the object.\n  string storage_class = 5 [(google.api.field_behavior) = OPTIONAL];\n\n  // Output only. Content-Length of the object data in bytes, matching\n  // [RFC 7230 \u00a73.3.2](https://tools.ietf.org/html/rfc7230#section-3.3.2]).\n  int64 size = 6 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. Content-Encoding of the object data, matching\n  // [RFC 7231 \u00a73.1.2.2](https://tools.ietf.org/html/rfc7231#section-3.1.2.2)\n  string content_encoding = 7 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Content-Disposition of the object data, matching\n  // [RFC 6266](https://tools.ietf.org/html/rfc6266).\n  string content_disposition = 8 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Cache-Control directive for the object data, matching\n  // [RFC 7234 \u00a75.2](https://tools.ietf.org/html/rfc7234#section-5.2).\n  // If omitted, and the object is accessible to all anonymous users, the\n  // default is `public, max-age=3600`.\n  string cache_control = 9 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Access controls on the object.\n  // If `iam_config.uniform_bucket_level_access` is enabled on the parent\n  // bucket, requests to set, read, or modify acl is an error.\n  repeated ObjectAccessControl acl = 10\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. Content-Language of the object data, matching\n  // [RFC 7231 \u00a73.1.3.2](https://tools.ietf.org/html/rfc7231#section-3.1.3.2).\n  string content_language = 11 [(google.api.field_behavior) = OPTIONAL];\n\n  // Output only. If this object is noncurrent, this is the time when the object\n  // became noncurrent.\n  google.protobuf.Timestamp delete_time = 12\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Output only. The time when the object was finalized.\n  google.protobuf.Timestamp finalize_time = 36\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. Content-Type of the object data, matching\n  // [RFC 7231 \u00a73.1.1.5](https://tools.ietf.org/html/rfc7231#section-3.1.1.5).\n  // If an object is stored without a Content-Type, it is served as\n  // `application/octet-stream`.\n  string content_type = 13 [(google.api.field_behavior) = OPTIONAL];\n\n  // Output only. The creation time of the object.\n  google.protobuf.Timestamp create_time = 14\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Output only. Number of underlying components that make up this object.\n  // Components are accumulated by compose operations.\n  int32 component_count = 15 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Output only. Hashes for the data part of this object. This field is used\n  // for output only and is silently ignored if provided in requests. The\n  // checksums of the complete object regardless of data range. If the object is\n  // downloaded in full, the client should compute one of these checksums over\n  // the downloaded object and compare it against the value provided here.\n  ObjectChecksums checksums = 16 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Output only. The modification time of the object metadata.\n  // Set initially to object creation time and then updated whenever any\n  // metadata of the object changes. This includes changes made by a requester,\n  // such as modifying custom metadata, as well as changes made by Cloud Storage\n  // on behalf of a requester, such as changing the storage class based on an\n  // Object Lifecycle Configuration.\n  google.protobuf.Timestamp update_time = 17\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. Cloud KMS Key used to encrypt this object, if the object is\n  // encrypted by such a key.\n  string kms_key = 18 [\n    (google.api.field_behavior) = OPTIONAL,\n    (google.api.resource_reference) = {\n      type: \"cloudkms.googleapis.com/CryptoKey\"\n    }\n  ];\n\n  // Output only. The time at which the object's storage class was last changed.\n  // When the object is initially created, it is set to `time_created`.\n  google.protobuf.Timestamp update_storage_class_time = 19\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. Whether an object is under temporary hold. While this flag is set\n  // to true, the object is protected against deletion and overwrites.  A common\n  // use case of this flag is regulatory investigations where objects need to be\n  // retained while the investigation is ongoing. Note that unlike event-based\n  // hold, temporary hold does not impact retention expiration time of an\n  // object.\n  bool temporary_hold = 20 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. A server-determined value that specifies the earliest time that\n  // the object's retention period expires. Note 1: This field is not provided\n  // for objects with an active event-based hold, since retention expiration is\n  // unknown until the hold is removed. Note 2: This value can be provided even\n  // when temporary hold is set (so that the user can reason about policy\n  // without having to first unset the temporary hold).\n  google.protobuf.Timestamp retention_expire_time = 21\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. User-provided metadata, in key/value pairs.\n  map<string, string> metadata = 22 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. User-defined or system-defined object contexts. Each object\n  // context is a key-payload pair, where the key provides the identification\n  // and the payload holds the associated value and additional metadata.\n  ObjectContexts contexts = 38 [(google.api.field_behavior) = OPTIONAL];\n\n  // Whether an object is under event-based hold.\n  // An event-based hold is a way to force the retention of an object until\n  // after some event occurs. Once the hold is released by explicitly setting\n  // this field to `false`, the object becomes subject to any bucket-level\n  // retention policy, except that the retention duration is calculated\n  // from the time the event based hold was lifted, rather than the time the\n  // object was created.\n  //\n  // In a `WriteObject` request, not setting this field implies that the value\n  // should be taken from the parent bucket's `default_event_based_hold` field.\n  // In a response, this field is always set to `true` or `false`.\n  optional bool event_based_hold = 23;\n\n  // Output only. The owner of the object. This is always the uploader of the\n  // object.\n  Owner owner = 24 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. Metadata of customer-supplied encryption key, if the object is\n  // encrypted by such a key.\n  CustomerEncryption customer_encryption = 25\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. A user-specified timestamp set on an object.\n  google.protobuf.Timestamp custom_time = 26\n      [(google.api.field_behavior) = OPTIONAL];\n\n  // Output only. This is the time when the object became soft-deleted.\n  //\n  // Soft-deleted objects are only accessible if a soft_delete_policy is\n  // enabled. Also see `hard_delete_time`.\n  optional google.protobuf.Timestamp soft_delete_time = 28\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Output only. The time when the object is permanently deleted.\n  //\n  // Only set when an object becomes soft-deleted with a `soft_delete_policy`.\n  // Otherwise, the object is not accessible.\n  optional google.protobuf.Timestamp hard_delete_time = 29\n      [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. Retention configuration of this object.\n  // Might only be configured if the bucket has object retention enabled.\n  Retention retention = 30 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// An access-control entry.\nmessage ObjectAccessControl {\n  // Optional. The access permission for the entity. One of the following\n  // values:\n  // * `READER`\n  // * `WRITER`\n  // * `OWNER`\n  string role = 1 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The ID of the access-control entry.\n  string id = 2 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The entity holding the permission, in one of the following forms:\n  // * `user-{userid}`\n  // * `user-{email}`\n  // * `group-{groupid}`\n  // * `group-{email}`\n  // * `domain-{domain}`\n  // * `project-{team}-{projectnumber}`\n  // * `project-{team}-{projectid}`\n  // * `allUsers`\n  // * `allAuthenticatedUsers`\n  // Examples:\n  // * The user `liz@example.com` would be `user-liz@example.com`.\n  // * The group `example@googlegroups.com` would be\n  // `group-example@googlegroups.com`.\n  // * All members of the Google Apps for Business domain `example.com` would be\n  // `domain-example.com`.\n  // For project entities, `project-{team}-{projectnumber}` format is\n  // returned in the response.\n  string entity = 3 [(google.api.field_behavior) = OPTIONAL];\n\n  // Output only. The alternative entity format, if exists. For project\n  // entities, `project-{team}-{projectid}` format is returned in the response.\n  string entity_alt = 9 [(google.api.field_behavior) = OUTPUT_ONLY];\n\n  // Optional. The ID for the entity, if any.\n  string entity_id = 4 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The etag of the ObjectAccessControl.\n  // If included in the metadata of an update or delete request message, the\n  // operation is only performed if the etag matches that of the live\n  // object's ObjectAccessControl.\n  string etag = 8 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The email address associated with the entity, if any.\n  string email = 5 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The domain associated with the entity, if any.\n  string domain = 6 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The project team associated with the entity, if any.\n  ProjectTeam project_team = 7 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// The result of a call to Objects.ListObjects\nmessage ListObjectsResponse {\n  // The list of items.\n  repeated Object objects = 1;\n\n  // The list of prefixes of objects matching-but-not-listed up to and including\n  // the requested delimiter.\n  repeated string prefixes = 2;\n\n  // The continuation token, used to page through large result sets. Provide\n  // this value in a subsequent request to return the next page of results.\n  string next_page_token = 3;\n}\n\n// Represents the Viewers, Editors, or Owners of a given project.\nmessage ProjectTeam {\n  // Optional. The project number.\n  string project_number = 1 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The team.\n  string team = 2 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// The owner of a specific resource.\nmessage Owner {\n  // Optional. The entity, in the form `user-`*userId*.\n  string entity = 1 [(google.api.field_behavior) = OPTIONAL];\n\n  // Optional. The ID for the entity.\n  string entity_id = 2 [(google.api.field_behavior) = OPTIONAL];\n}\n\n// Specifies a requested range of bytes to download.\nmessage ContentRange {\n  // The starting offset of the object data. This value is inclusive.\n  int64 start = 1;\n\n  // The ending offset of the object data. This value is exclusive.\n  int64 end = 2;\n\n  // The complete length of the object data.\n  int64 complete_length = 3;\n}\n\n</documentation>\n\n## Task\n\nI need to create a new Cloud Storage bucket with versioning enabled, upload an object to it, then set a lifecycle policy to auto-delete objects older than 90 days. Show me the gRPC calls.\n\nSolve this task now. Follow the output format exactly.",
  "prompt_chars": 141413,
  "doc_size_bytes": 140018,
  "status": "pending"
}