@lap v0.3
# Machine-readable API spec. Each @endpoint block is one API call.
@api RPC Server Example
@version 1.0.0
@auth amqp
@endpoints 2
@toc {queue}(1), rpc_queue(1)

@group {queue}
@endpoint PUB {queue}
@desc [amqp]
@optional {result: num}
@returns(PUB) {result: num} # message payload

@endgroup

@group rpc_queue
@endpoint SUB rpc_queue
@desc [amqp(queue={'durable': False}, is=queue)]
@optional {numbers: [num]}
@returns(SUB) {numbers: [num]} # message payload

@endgroup

@end
