syntax = "proto3";
package google.cloud.datacatalog.v1;
import "google/api/annotations.proto";
import "google/api/client.proto";
import "google/api/field_behavior.proto";
import "google/api/resource.proto";
import "google/cloud/datacatalog/v1/bigquery.proto";
import "google/cloud/datacatalog/v1/common.proto";
import "google/cloud/datacatalog/v1/data_source.proto";
import "google/cloud/datacatalog/v1/dataplex_spec.proto";
import "google/cloud/datacatalog/v1/gcs_fileset_spec.proto";
import "google/cloud/datacatalog/v1/schema.proto";
import "google/cloud/datacatalog/v1/search.proto";
import "google/cloud/datacatalog/v1/table_spec.proto";
import "google/cloud/datacatalog/v1/tags.proto";
import "google/cloud/datacatalog/v1/timestamps.proto";
import "google/cloud/datacatalog/v1/usage.proto";
import "google/iam/v1/iam_policy.proto";
import "google/iam/v1/policy.proto";
import "google/longrunning/operations.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/field_mask.proto";
import "google/protobuf/timestamp.proto";
import "google/rpc/status.proto";
option csharp_namespace = "Google.Cloud.DataCatalog.V1";
option go_package = "cloud.google.com/go/datacatalog/apiv1/datacatalogpb;datacatalogpb";
option java_multiple_files = true;
option java_package = "com.google.cloud.datacatalog.v1";
option php_namespace = "Google\\Cloud\\DataCatalog\\V1";
option ruby_package = "Google::Cloud::DataCatalog::V1";
option (google.api.resource_definition) = {
type: "datacatalog.googleapis.com/TagTemplateFieldEnumValue"
pattern: "projects/{project}/locations/{location}/tagTemplates/{tag_template}/fields/{tag_template_field_id}/enumValues/{enum_value_display_name}"
};
service DataCatalog {
option deprecated = true;
option (google.api.default_host) = "datacatalog.googleapis.com";
option (google.api.oauth_scopes) =
"https://www.googleapis.com/auth/cloud-platform";
rpc SearchCatalog(SearchCatalogRequest) returns (SearchCatalogResponse) {
option deprecated = true;
option (google.api.http) = {
post: "/v1/catalog:search"
body: "*"
};
option (google.api.method_signature) = "scope,query";
}
rpc CreateEntryGroup(CreateEntryGroupRequest) returns (EntryGroup) {
option deprecated = true;
option (google.api.http) = {
post: "/v1/{parent=projectslocationslocationslocationslocationslocationslocationsentrieslocationsentrieslocationsentrieslocationslocationsentrieslocationsentrieslocationslocationslocationslocationslocationslocationsfieldslocationsfieldslocationsfieldslocationsfieldslocationsentrieslocationslocationsentrieslocationstagslocationsentrieslocationstagslocationsentrieslocationslocationsentrieslocationsentrieslocationsentrieslocationslocationslocationslocationslocationsentrieslocationslocationslocationsentrieslocationslocationslocationslocationslocationslocations/*}:retrieveEffectiveConfig"
}
};
}
}
message SearchCatalogRequest {
message Scope {
repeated string include_org_ids = 2;
repeated string include_project_ids = 3;
bool include_gcp_public_datasets = 7;
repeated string restricted_locations = 16
[(google.api.field_behavior) = OPTIONAL];
bool starred_only = 18 [(google.api.field_behavior) = OPTIONAL];
bool include_public_tag_templates = 19
[deprecated = true, (google.api.field_behavior) = OPTIONAL];
}
Scope scope = 6 [(google.api.field_behavior) = REQUIRED];
string query = 1 [(google.api.field_behavior) = OPTIONAL];
int32 page_size = 2;
string page_token = 3 [(google.api.field_behavior) = OPTIONAL];
string order_by = 5;
bool admin_search = 17 [(google.api.field_behavior) = OPTIONAL];
}
message SearchCatalogResponse {
repeated SearchCatalogResult results = 1;
int32 total_size = 2;
string next_page_token = 3;
repeated string unreachable = 6;
}
message CreateEntryGroupRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
child_type: "datacatalog.googleapis.com/EntryGroup"
}
];
string entry_group_id = 3 [(google.api.field_behavior) = REQUIRED];
EntryGroup entry_group = 2;
}
message UpdateEntryGroupRequest {
EntryGroup entry_group = 1 [(google.api.field_behavior) = REQUIRED];
google.protobuf.FieldMask update_mask = 2;
}
message GetEntryGroupRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/EntryGroup"
}
];
google.protobuf.FieldMask read_mask = 2;
}
message DeleteEntryGroupRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/EntryGroup"
}
];
bool force = 2 [(google.api.field_behavior) = OPTIONAL];
}
message ListEntryGroupsRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
child_type: "datacatalog.googleapis.com/EntryGroup"
}
];
int32 page_size = 2 [(google.api.field_behavior) = OPTIONAL];
string page_token = 3 [(google.api.field_behavior) = OPTIONAL];
}
message ListEntryGroupsResponse {
repeated EntryGroup entry_groups = 1;
string next_page_token = 2;
}
message CreateEntryRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/EntryGroup"
}
];
string entry_id = 3 [(google.api.field_behavior) = REQUIRED];
Entry entry = 2 [(google.api.field_behavior) = REQUIRED];
}
message UpdateEntryRequest {
Entry entry = 1 [(google.api.field_behavior) = REQUIRED];
google.protobuf.FieldMask update_mask = 2;
}
message DeleteEntryRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/Entry"
}
];
}
message GetEntryRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/Entry"
}
];
}
message LookupEntryRequest {
oneof target_name {
string linked_resource = 1;
string sql_resource = 3;
string fully_qualified_name = 5;
}
string project = 6;
string location = 7;
}
message Entry {
option (google.api.resource) = {
type: "datacatalog.googleapis.com/Entry"
pattern: "projects/{project}/locations/{location}/entryGroups/{entry_group}/entries/{entry}"
};
string name = 1 [
(google.api.field_behavior) = OUTPUT_ONLY,
(google.api.field_behavior) = IDENTIFIER,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/EntryGroup"
}
];
string linked_resource = 9;
string fully_qualified_name = 29;
oneof entry_type {
EntryType type = 2;
string user_specified_type = 16;
}
oneof system {
IntegratedSystem integrated_system = 17
[(google.api.field_behavior) = OUTPUT_ONLY];
string user_specified_system = 18;
}
oneof system_spec {
SqlDatabaseSystemSpec sql_database_system_spec = 39;
LookerSystemSpec looker_system_spec = 40;
CloudBigtableSystemSpec cloud_bigtable_system_spec = 41;
}
oneof type_spec {
GcsFilesetSpec gcs_fileset_spec = 6;
BigQueryTableSpec bigquery_table_spec = 12
[(google.api.field_behavior) = OUTPUT_ONLY];
BigQueryDateShardedSpec bigquery_date_sharded_spec = 15
[(google.api.field_behavior) = OUTPUT_ONLY];
}
oneof spec {
DatabaseTableSpec database_table_spec = 24;
DataSourceConnectionSpec data_source_connection_spec = 27;
RoutineSpec routine_spec = 28;
DatasetSpec dataset_spec = 32;
FilesetSpec fileset_spec = 33;
ServiceSpec service_spec = 42;
ModelSpec model_spec = 43;
FeatureOnlineStoreSpec feature_online_store_spec = 45;
}
string display_name = 3;
string description = 4;
BusinessContext business_context = 37;
Schema schema = 5;
SystemTimestamps source_system_timestamps = 7;
UsageSignal usage_signal = 13;
map<string, string> labels = 14;
DataSource data_source = 20 [(google.api.field_behavior) = OUTPUT_ONLY];
PersonalDetails personal_details = 26
[(google.api.field_behavior) = OUTPUT_ONLY];
}
message DatabaseTableSpec {
enum TableType {
TABLE_TYPE_UNSPECIFIED = 0;
NATIVE = 1;
EXTERNAL = 2;
}
message DatabaseViewSpec {
enum ViewType {
VIEW_TYPE_UNSPECIFIED = 0;
STANDARD_VIEW = 1;
MATERIALIZED_VIEW = 2;
}
ViewType view_type = 1;
oneof source_definition {
string base_table = 2;
string sql_query = 3;
}
}
TableType type = 1;
DataplexTableSpec dataplex_table = 2
[(google.api.field_behavior) = OUTPUT_ONLY];
DatabaseViewSpec database_view_spec = 3;
}
message FilesetSpec {
DataplexFilesetSpec dataplex_fileset = 1;
}
message DataSourceConnectionSpec {
BigQueryConnectionSpec bigquery_connection_spec = 1;
}
message RoutineSpec {
enum RoutineType {
ROUTINE_TYPE_UNSPECIFIED = 0;
SCALAR_FUNCTION = 1;
PROCEDURE = 2;
}
message Argument {
enum Mode {
MODE_UNSPECIFIED = 0;
IN = 1;
OUT = 2;
INOUT = 3;
}
string name = 1;
Mode mode = 2;
string type = 3;
}
RoutineType routine_type = 1;
string language = 2;
repeated Argument routine_arguments = 3;
string return_type = 4;
string definition_body = 5;
oneof system_spec {
BigQueryRoutineSpec bigquery_routine_spec = 6;
}
}
message DatasetSpec {
oneof system_spec {
VertexDatasetSpec vertex_dataset_spec = 2;
}
}
message SqlDatabaseSystemSpec {
string sql_engine = 1;
string database_version = 2;
string instance_host = 3;
}
message LookerSystemSpec {
string parent_instance_id = 1;
string parent_instance_display_name = 2;
string parent_model_id = 3;
string parent_model_display_name = 4;
string parent_view_id = 5;
string parent_view_display_name = 6;
}
message CloudBigtableSystemSpec {
string instance_display_name = 1;
}
message CloudBigtableInstanceSpec {
message CloudBigtableClusterSpec {
string display_name = 1;
string location = 2;
string type = 3;
string linked_resource = 4;
}
repeated CloudBigtableClusterSpec cloud_bigtable_cluster_specs = 1;
}
message ServiceSpec {
oneof system_spec {
CloudBigtableInstanceSpec cloud_bigtable_instance_spec = 1;
}
}
message VertexModelSourceInfo {
enum ModelSourceType {
MODEL_SOURCE_TYPE_UNSPECIFIED = 0;
AUTOML = 1;
CUSTOM = 2;
BQML = 3;
MODEL_GARDEN = 4;
GENIE = 5;
CUSTOM_TEXT_EMBEDDING = 6;
MARKETPLACE = 7;
}
ModelSourceType source_type = 1;
bool copy = 2;
}
message VertexModelSpec {
string version_id = 1;
repeated string version_aliases = 2;
string version_description = 3;
VertexModelSourceInfo vertex_model_source_info = 4;
string container_image_uri = 5;
}
message VertexDatasetSpec {
enum DataType {
DATA_TYPE_UNSPECIFIED = 0;
TABLE = 1;
IMAGE = 2;
TEXT = 3;
VIDEO = 4;
CONVERSATION = 5;
TIME_SERIES = 6;
DOCUMENT = 7;
TEXT_TO_SPEECH = 8;
TRANSLATION = 9;
STORE_VISION = 10;
ENTERPRISE_KNOWLEDGE_GRAPH = 11;
TEXT_PROMPT = 12;
}
int64 data_item_count = 1;
DataType data_type = 2;
}
message ModelSpec {
oneof system_spec {
VertexModelSpec vertex_model_spec = 1;
}
}
message FeatureOnlineStoreSpec {
enum StorageType {
STORAGE_TYPE_UNSPECIFIED = 0;
BIGTABLE = 1;
OPTIMIZED = 2;
}
StorageType storage_type = 1 [(google.api.field_behavior) = OUTPUT_ONLY];
}
message BusinessContext {
EntryOverview entry_overview = 1;
Contacts contacts = 2;
}
message EntryOverview {
string overview = 1;
}
message Contacts {
message Person {
string designation = 1;
string email = 2;
}
repeated Person people = 1;
}
message EntryGroup {
option (google.api.resource) = {
type: "datacatalog.googleapis.com/EntryGroup"
pattern: "projects/{project}/locations/{location}/entryGroups/{entry_group}"
};
string name = 1 [(google.api.field_behavior) = IDENTIFIER];
string display_name = 2;
string description = 3;
SystemTimestamps data_catalog_timestamps = 4
[(google.api.field_behavior) = OUTPUT_ONLY];
bool transferred_to_dataplex = 9 [(google.api.field_behavior) = OPTIONAL];
}
message CreateTagTemplateRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
child_type: "datacatalog.googleapis.com/TagTemplate"
}
];
string tag_template_id = 3 [(google.api.field_behavior) = REQUIRED];
TagTemplate tag_template = 2 [(google.api.field_behavior) = REQUIRED];
}
message GetTagTemplateRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/TagTemplate"
}
];
}
message UpdateTagTemplateRequest {
TagTemplate tag_template = 1 [(google.api.field_behavior) = REQUIRED];
google.protobuf.FieldMask update_mask = 2;
}
message DeleteTagTemplateRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/TagTemplate"
}
];
bool force = 2 [(google.api.field_behavior) = REQUIRED];
}
message CreateTagRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
child_type: "datacatalog.googleapis.com/Tag"
}
];
Tag tag = 2 [(google.api.field_behavior) = REQUIRED];
}
message UpdateTagRequest {
Tag tag = 1 [(google.api.field_behavior) = REQUIRED];
google.protobuf.FieldMask update_mask = 2;
}
message DeleteTagRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
child_type: "datacatalog.googleapis.com/Tag"
}
];
}
message CreateTagTemplateFieldRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/TagTemplate"
}
];
string tag_template_field_id = 2 [(google.api.field_behavior) = REQUIRED];
TagTemplateField tag_template_field = 3
[(google.api.field_behavior) = REQUIRED];
}
message UpdateTagTemplateFieldRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/TagTemplateField"
}
];
TagTemplateField tag_template_field = 2
[(google.api.field_behavior) = REQUIRED];
google.protobuf.FieldMask update_mask = 3
[(google.api.field_behavior) = OPTIONAL];
}
message RenameTagTemplateFieldRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/TagTemplateField"
}
];
string new_tag_template_field_id = 2 [(google.api.field_behavior) = REQUIRED];
}
message RenameTagTemplateFieldEnumValueRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/TagTemplateFieldEnumValue"
}
];
string new_enum_value_display_name = 2
[(google.api.field_behavior) = REQUIRED];
}
message DeleteTagTemplateFieldRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/TagTemplateField"
}
];
bool force = 2 [(google.api.field_behavior) = REQUIRED];
}
message ListTagsRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
child_type: "datacatalog.googleapis.com/Tag"
}
];
int32 page_size = 2;
string page_token = 3;
}
message ListTagsResponse {
repeated Tag tags = 1;
string next_page_token = 2;
}
message ReconcileTagsRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/Entry"
}
];
string tag_template = 2 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/TagTemplate"
}
];
bool force_delete_missing = 3;
repeated Tag tags = 4;
}
message ReconcileTagsResponse {
int64 created_tags_count = 1;
int64 updated_tags_count = 2;
int64 deleted_tags_count = 3;
}
message ReconcileTagsMetadata {
enum ReconciliationState {
RECONCILIATION_STATE_UNSPECIFIED = 0;
RECONCILIATION_QUEUED = 1;
RECONCILIATION_IN_PROGRESS = 2;
RECONCILIATION_DONE = 3;
}
ReconciliationState state = 1;
map<string, google.rpc.Status> errors = 2;
}
message ListEntriesRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/EntryGroup"
}
];
int32 page_size = 2;
string page_token = 3;
google.protobuf.FieldMask read_mask = 4;
}
message ListEntriesResponse {
repeated Entry entries = 1;
string next_page_token = 2;
}
message StarEntryRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/Entry"
}
];
}
message StarEntryResponse {}
message UnstarEntryRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/Entry"
}
];
}
message UnstarEntryResponse {}
message ImportEntriesRequest {
string parent = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
child_type: "datacatalog.googleapis.com/Entry"
}
];
oneof source {
string gcs_bucket_path = 2;
}
string job_id = 3 [(google.api.field_behavior) = OPTIONAL];
}
message ImportEntriesResponse {
optional int64 upserted_entries_count = 5;
optional int64 deleted_entries_count = 6;
}
message ImportEntriesMetadata {
enum ImportState {
IMPORT_STATE_UNSPECIFIED = 0;
IMPORT_QUEUED = 1;
IMPORT_IN_PROGRESS = 2;
IMPORT_DONE = 3;
IMPORT_OBSOLETE = 4;
}
ImportState state = 1;
repeated google.rpc.Status errors = 2;
}
message ModifyEntryOverviewRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/Entry"
}
];
EntryOverview entry_overview = 2 [(google.api.field_behavior) = REQUIRED];
}
message ModifyEntryContactsRequest {
string name = 1 [
(google.api.field_behavior) = REQUIRED,
(google.api.resource_reference) = {
type: "datacatalog.googleapis.com/Entry"
}
];
Contacts contacts = 2 [(google.api.field_behavior) = REQUIRED];
}
enum EntryType {
ENTRY_TYPE_UNSPECIFIED = 0;
TABLE = 2;
MODEL = 5;
DATA_STREAM = 3;
FILESET = 4;
CLUSTER = 6;
DATABASE = 7;
DATA_SOURCE_CONNECTION = 8;
ROUTINE = 9;
LAKE = 10;
ZONE = 11;
SERVICE = 14;
DATABASE_SCHEMA = 15;
DASHBOARD = 16;
EXPLORE = 17;
LOOK = 18;
FEATURE_ONLINE_STORE = 19;
FEATURE_VIEW = 20;
FEATURE_GROUP = 21;
}
message SetConfigRequest {
string name = 1 [(google.api.field_behavior) = REQUIRED];
oneof configuration {
TagTemplateMigration tag_template_migration = 2;
CatalogUIExperience catalog_ui_experience = 3;
}
}
message RetrieveConfigRequest {
string name = 1 [(google.api.field_behavior) = REQUIRED];
}
message RetrieveEffectiveConfigRequest {
string name = 1 [(google.api.field_behavior) = REQUIRED];
}
enum TagTemplateMigration {
TAG_TEMPLATE_MIGRATION_UNSPECIFIED = 0;
TAG_TEMPLATE_MIGRATION_ENABLED = 1;
TAG_TEMPLATE_MIGRATION_DISABLED = 2;
}
enum CatalogUIExperience {
CATALOG_UI_EXPERIENCE_UNSPECIFIED = 0;
CATALOG_UI_EXPERIENCE_ENABLED = 1;
CATALOG_UI_EXPERIENCE_DISABLED = 2;
}
message OrganizationConfig {
map<string, MigrationConfig> config = 1;
}
message MigrationConfig {
TagTemplateMigration tag_template_migration = 1;
CatalogUIExperience catalog_ui_experience = 2;
google.protobuf.Timestamp template_migration_enabled_time = 3;
}
